var CodeMirror=(function(){function d(bK,aN){var bE={},av=d.defaults;for(var bD in av){if(av.hasOwnProperty(bD)){bE[bD]=(aN&&aN.hasOwnProperty(bD)?aN:av)[bD]}}var cn=bE.document;var cF=cn.createElement("div");cF.className="CodeMirror"+(bE.lineWrapping?" CodeMirror-wrap":"");cF.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';if(bK.appendChild){bK.appendChild(cF)}else{bK(cF)}var a2=cF.firstChild,a1=a2.firstChild,bZ=cF.lastChild,ap=bZ.firstChild,bp=ap.firstChild,aP=bp.firstChild,aS=aP.firstChild,bc=aP.nextSibling.firstChild,bk=bc.firstChild,au=bk.nextSibling,ba=au.nextSibling;cs();if(/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)){a1.style.width="0px"}if(!Z){bc.draggable=true}if(bE.tabindex!=null){a1.tabIndex=bE.tabindex}if(!bE.gutter&&!bE.lineNumbers){aP.style.display="none"}try{ck("x")}catch(aA){if(aA.message.match(/runtime/i)){aA=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")}throw aA}var bL=new l(),aV=new l(),ac;var bn,ay=new c([new J([new K("")])]),cE,aG;bd();var b1={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var cd,a5,a6,az,bF=false;var cy,cC,ak,cp,b2,a9,aR,ai;var ax=0,ce=0,cf=0,a7=0;var ad;var bi="",bj,cm=ar();bC(function(){cc(bE.value||"");cy=false})();var aY=new B();g(bZ,"mousedown",bC(bB));g(bZ,"dblclick",bC(bu));g(bc,"dragstart",bv);g(bc,"selectstart",o);if(!x){g(bZ,"contextmenu",bt)}g(bZ,"scroll",function(){cw([]);if(bE.fixedGutter){aP.style.left=bZ.scrollLeft+"px"}if(bE.onScroll){bE.onScroll(a3)}});g(window,"resize",function(){cw(true)});g(a1,"keyup",bC(bA));g(a1,"input",aD);g(a1,"keydown",bC(by));g(a1,"keypress",bC(bz));g(a1,"focus",bx);g(a1,"blur",bs);g(bZ,"dragenter",p);g(bZ,"dragover",p);g(bZ,"drop",bC(bw));g(bZ,"paste",function(){aH();aD()});g(a1,"paste",aD);g(a1,"cut",bC(function(){bU("")}));var aU;try{aU=(cn.activeElement==a1)}catch(aA){}if(aU){setTimeout(bx,20)}else{bs()}function a4(cH){return cH>=0&&cH<ay.size}var a3=cF.CodeMirror={getValue:aM,setValue:bC(cc),getSelection:aK,replaceSelection:bC(bU),focus:function(){aH();bx();aD()},setOption:function(cI,cJ){var cH=bE[cI];bE[cI]=cJ;if(cI=="mode"||cI=="indentUnit"){bd()}else{if(cI=="readOnly"&&cJ){bs();a1.blur()}else{if(cI=="theme"){cs()}else{if(cI=="lineWrapping"&&cH!=cJ){bC(cG)()}else{if(cI=="tabSize"){bC(cl)()}}}}}if(cI=="lineNumbers"||cI=="gutter"||cI=="firstLineNumber"||cI=="theme"){bC(aQ)()}},getOption:function(cH){return bE[cH]},undo:bC(ct),redo:bC(bQ),indentLine:bC(function(cI,cH){if(a4(cI)){aZ(cI,cH==null?"smart":cH?"add":"subtract")}}),indentSelection:bC(a0),historySize:function(){return{undo:aY.done.length,redo:aY.undone.length}},clearHistory:function(){aY=new B()},matchBrackets:bC(function(){bg(true)}),getTokenAt:bC(function(cH){cH=ao(cH);return aI(cH.line).getTokenAt(bn,aL(cH.line),cH.ch)}),getStateAfter:function(cH){cH=an(cH==null?ay.size-1:cH);return aL(cH+1)},cursorCoords:function(cH){if(cH==null){cH=b1.inverted}return bI(cH?b1.from:b1.to)},charCoords:function(cH){return bI(ao(cH))},coordsChar:function(cH){var cI=t(bc);return at(cH.x-cI.left,cH.y-cI.top)},markText:bC(bf),setBookmark:b5,setMarker:bC(ab),clearMarker:bC(bR),setLineClass:bC(b7),hideLine:bC(function(cH){return b8(cH,true)}),showLine:bC(function(cH){return b8(cH,false)}),onDeleteLine:function(cI,cH){if(typeof cI=="number"){if(!a4(cI)){return null}cI=aI(cI)}(cI.handlers||(cI.handlers=[])).push(cH);return cI},lineInfo:bb,addWidget:function(cL,cK,cM,cO,cH){cL=be(ao(cL));var cN=cL.yBot,cJ=cL.x;cK.style.position="absolute";ap.appendChild(cK);if(cO=="over"){cN=cL.y}else{if(cO=="near"){var cP=Math.max(bZ.offsetHeight,ay.height*cq()),cI=Math.max(ap.clientWidth,bc.clientWidth)-bG();if(cL.yBot+cK.offsetHeight>cP&&cL.y>cK.offsetHeight){cN=cL.y-cK.offsetHeight}if(cJ+cK.offsetWidth>cI){cJ=cI-cK.offsetWidth}}}cK.style.top=(cN+bH())+"px";cK.style.left=cK.style.right="";if(cH=="right"){cJ=ap.clientWidth-cK.offsetWidth;cK.style.right="0px"}else{if(cH=="left"){cJ=0}else{if(cH=="middle"){cJ=(ap.clientWidth-cK.offsetWidth)/2}}cK.style.left=(cJ+bG())+"px"}if(cM){b0(cJ,cN,cJ+cK.offsetWidth,cN+cK.offsetHeight)}},lineCount:function(){return ay.size},clipPos:ao,getCursor:function(cH){if(cH==null){cH=b1.inverted}return h(cH?b1.from:b1.to)},somethingSelected:function(){return !T(b1.from,b1.to)},setCursor:bC(function(cI,cH,cJ){if(cH==null&&typeof cI.line=="number"){b6(cI.line,cI.ch,cJ)}else{b6(cI,cH,cJ)}}),setSelection:bC(function(cH,cI,cJ){(cJ?ca:b9)(ao(cH),ao(cI||cH))}),getLine:function(cH){if(a4(cH)){return aI(cH).text}},getLineHandle:function(cH){if(a4(cH)){return aI(cH)}},setLine:bC(function(cH,cI){if(a4(cH)){bS(cI,{line:cH,ch:0},{line:cH,ch:aI(cH).text.length})}}),removeLine:bC(function(cH){if(a4(cH)){bS("",{line:cH,ch:0},ao({line:cH+1,ch:0}))}}),replaceRange:bC(bS),getRange:function(cH,cI){return aJ(ao(cH),ao(cI))},execCommand:function(cH){return e[cH](a3)},moveH:bC(bo),deleteH:bC(aw),moveV:bC(bq),toggleOverwrite:function(){bF=!bF},posFromIndex:function(cJ){var cI=0,cH;ay.iter(0,ay.size,function(cK){var cL=cK.text.length+1;if(cL>cJ){cH=cJ;return true}cJ-=cL;++cI});return ao({line:cI,ch:cH})},indexFromPos:function(cH){if(cH.line<0||cH.ch<0){return 0}var cI=cH.ch;ay.iter(0,cH.line,function(cJ){cI+=cJ.text.length+1});return cI},operation:function(cH){return bC(cH)()},refresh:function(){cw(true)},getInputField:function(){return a1},getWrapperElement:function(){return cF},getScrollerElement:function(){return bZ},getGutterElement:function(){return aP}};function aI(cH){return y(ay,cH)}function cz(cJ,cI){aR=true;var cH=cI-cJ.height;for(var cK=cJ;cK;cK=cK.parent){cK.height+=cH}}function cc(cH){var cI={line:0,ch:0};cA(cI,{line:ay.size-1,ch:aI(ay.size-1).text.length},V(cH),cI,cI);cy=true}function aM(cH){var cI=[];ay.iter(0,ay.size,function(cJ){cI.push(cJ.text)});return cI.join("\n")}function bB(cH){cb(cH.shiftKey);for(var cM=r(cH);cM!=cF;cM=cM.parentNode){if(cM.parentNode==ap&&cM!=bp){return}}for(var cM=r(cH);cM!=cF;cM=cM.parentNode){if(cM.parentNode==aS){if(bE.onGutterClick){bE.onGutterClick(a3,E(aS.childNodes,cM)+ce,cH)}return o(cH)}}var cO=bN(cH);switch(n(cH)){case 3:if(x&&!P){bt(cH)}return;case 2:if(cO){b6(cO.line,cO.ch,true)}return}if(!cO){if(r(cH)==bZ){o(cH)}return}if(!aG){bx()}var cN=+new Date;if(a6&&a6.time>cN-400&&T(a6.pos,cO)){o(cH);setTimeout(aH,20);return b3(cO.line)}else{if(a5&&a5.time>cN-400&&T(a5.pos,cO)){a6={time:cN,pos:cO};o(cH);return b4(cO)}else{a5={time:cN,pos:cO}}}var cK=cO,cJ;if(m&&!T(b1.from,b1.to)&&!U(cO,b1.from)&&!U(b1.to,cO)){if(Z){bc.draggable=true}var cP=g(cn,"mouseup",bC(function(cQ){if(Z){bc.draggable=false}az=false;cP();if(Math.abs(cH.clientX-cQ.clientX)+Math.abs(cH.clientY-cQ.clientY)<10){o(cQ);b6(cO.line,cO.ch,true);aH()}}),true);az=true;return}o(cH);b6(cO.line,cO.ch,true);function cI(cR){var cQ=bN(cR,true);if(cQ&&!T(cQ,cK)){if(!aG){bx()}cK=cQ;ca(cO,cQ);cy=false;var cS=cD();if(cQ.line>=cS.to||cQ.line<cS.from){cJ=setTimeout(bC(function(){cI(cR)}),150)}}}var cL=g(cn,"mousemove",bC(function(cQ){clearTimeout(cJ);o(cQ);cI(cQ)}),true);var cP=g(cn,"mouseup",bC(function(cR){clearTimeout(cJ);var cQ=bN(cR);if(cQ){ca(cO,cQ)}o(cR);aH();cy=true;cL();cP()}),true)}function bu(cH){for(var cI=r(cH);cI!=cF;cI=cI.parentNode){if(cI.parentNode==aS){return o(cH)}}var cJ=bN(cH);if(!cJ){return}a6={time:+new Date,pos:cJ};o(cH);b4(cJ)}function bw(cJ){cJ.preventDefault();var cP=bN(cJ,true),cL=cJ.dataTransfer.files;if(!cP||bE.readOnly){return}if(cL&&cL.length&&window.FileReader&&window.File){function cN(cS,cT){var cU=new FileReader;cU.onload=function(){cR[cT]=cU.result;if(++cQ==cO){cP=ao(cP);bC(function(){var cV=bS(cR.join(""),cP,cP);ca(cP,cV)})()}};cU.readAsText(cS)}var cO=cL.length,cR=Array(cO),cQ=0;for(var cM=0;cM<cO;++cM){cN(cL[cM],cM)}}else{try{var cR=cJ.dataTransfer.getData("Text");if(cR){var cK=bS(cR,cP,cP);var cH=b1.from,cI=b1.to;ca(cP,cK);if(az){bS("",cH,cI)}aH()}}catch(cJ){}}}function bv(cH){var cI=aK();C(cI);cH.dataTransfer.setDragImage(v,0,0);cH.dataTransfer.setData("Text",cI)}function aT(cJ){var cK=I[cJ.keyCode],cL=H[bE.keyMap].auto,cH,cI;if(cK==null||cJ.altGraphKey){if(cL){bE.keyMap=cL}return null}if(cJ.altKey){cK="Alt-"+cK}if(cJ.ctrlKey){cK="Ctrl-"+cK}if(cJ.metaKey){cK="Cmd-"+cK}if(cJ.shiftKey&&(cH=O("Shift-"+cK,bE.extraKeys,bE.keyMap))){cI=true}else{cH=O(cK,bE.extraKeys,bE.keyMap)}if(typeof cH=="string"){if(e.propertyIsEnumerable(cH)){cH=e[cH]}else{cH=null}}if(cL&&(cH||!F(cJ))){bE.keyMap=cL}if(!cH){return false}if(cI){var cM=cd;cd=null;cH(a3);cd=cM}else{cH(a3)}o(cJ);return true}var a8=null;function by(cI){if(!aG){bx()}var cH=cI.keyCode;if(D&&cH==27){cI.returnValue=false}cb(cH==16||cI.shiftKey);if(bE.onKeyEvent&&bE.onKeyEvent(a3,a(cI))){return}var cJ=aT(cI);if(window.opera){a8=cJ?cI.keyCode:null;if(!cJ&&(P?cI.metaKey:cI.ctrlKey)&&cI.keyCode==88){bU("")}}}function bz(cI){if(window.opera&&cI.keyCode==a8){a8=null;o(cI);return}if(bE.onKeyEvent&&bE.onKeyEvent(a3,a(cI))){return}if(window.opera&&!cI.which&&aT(cI)){return}if(bE.electricChars&&bn.electricChars){var cH=String.fromCharCode(cI.charCode==null?cI.keyCode:cI.charCode);if(bn.electricChars.indexOf(cH)>-1){setTimeout(bC(function(){aZ(b1.to.line,"smart")}),75)}}aD()}function bA(cH){if(bE.onKeyEvent&&bE.onKeyEvent(a3,a(cH))){return}if(cH.keyCode==16){cd=null}}function bx(){if(bE.readOnly){return}if(!aG){if(bE.onFocus){bE.onFocus(a3)}aG=true;if(cF.className.search(/\bCodeMirror-focused\b/)==-1){cF.className+=" CodeMirror-focused"}if(!a9){bV(true)}}ch();bW()}function bs(){if(aG){if(bE.onBlur){bE.onBlur(a3)}aG=false;cF.className=cF.className.replace(" CodeMirror-focused","")}clearInterval(ac);setTimeout(function(){if(!aG){cd=null}},150)}function cA(cH,cM,cI,cK,cL){if(aY){var cJ=[];ay.iter(cH.line,cM.line+1,function(cN){cJ.push(cN.text)});aY.addChange(cH.line,cI.length,cJ);while(aY.done.length>bE.undoDepth){aY.done.shift()}}cB(cH,cM,cI,cK,cL)}function cu(cJ,cM){var cH=cJ.pop();if(cH){var cL=[],cI=cH.start+cH.added;ay.iter(cH.start,cI,function(cN){cL.push(cN.text)});cM.push({start:cH.start,added:cH.old.length,old:cL});var cK=ao({line:cH.start+cH.old.length-1,ch:s(cL[cL.length-1],cH.old[cH.old.length-1])});cB({line:cH.start,ch:0},{line:cI-1,ch:aI(cI-1).text.length},cH.old,cK,cK);cy=true}}function ct(){cu(aY.done,aY.undone)}function bQ(){cu(aY.undone,aY.done)}function cB(cM,c2,cT,cZ,c0){var cY=false,cS=bi.length;if(!bE.lineWrapping){ay.iter(cM.line,c2.line,function(c4){if(c4.text.length==cS){cY=true;return true}})}if(cM.line!=c2.line||cT.length>1){aR=true}var cV=c2.line-cM.line,cL=aI(cM.line),cQ=aI(c2.line);if(cM.ch==0&&c2.ch==0&&cT[cT.length-1]==""){var cH=[],cX=null;if(cM.line){cX=aI(cM.line-1);cX.fixMarkEnds(cQ)}else{cQ.fixMarkStarts()}for(var cO=0,cK=cT.length-1;cO<cK;++cO){cH.push(K.inheritMarks(cT[cO],cX))}if(cV){ay.remove(cM.line,cV,ai)}if(cH.length){ay.insert(cM.line,cH)}}else{if(cL==cQ){if(cT.length==1){cL.replace(cM.ch,c2.ch,cT[0])}else{cQ=cL.split(c2.ch,cT[cT.length-1]);cL.replace(cM.ch,null,cT[0]);cL.fixMarkEnds(cQ);var cH=[];for(var cO=1,cK=cT.length-1;cO<cK;++cO){cH.push(K.inheritMarks(cT[cO],cL))}cH.push(cQ);ay.insert(cM.line+1,cH)}}else{if(cT.length==1){cL.replace(cM.ch,null,cT[0]);cQ.replace(null,c2.ch,"");cL.append(cQ);ay.remove(cM.line+1,cV,ai)}else{var cH=[];cL.replace(cM.ch,null,cT[0]);cQ.replace(null,c2.ch,cT[cT.length-1]);cL.fixMarkEnds(cQ);for(var cO=1,cK=cT.length-1;cO<cK;++cO){cH.push(K.inheritMarks(cT[cO],cL))}if(cV>1){ay.remove(cM.line+1,cV-1,ai)}ay.insert(cM.line+1,cH)}}}if(bE.lineWrapping){var cW=bZ.clientWidth/am()-3;ay.iter(cM.line,cM.line+cT.length,function(c5){if(c5.hidden){return}var c4=Math.ceil(c5.text.length/cW)||1;if(c4!=c5.height){cz(c5,c4)}})}else{ay.iter(cM.line,cO+cT.length,function(c5){var c4=c5.text;if(c4.length>cS){bi=c4;cS=c4.length;bj=null;cY=false}});if(cY){cS=0;bi="";bj=null;ay.iter(0,ay.size,function(c5){var c4=c5.text;if(c4.length>cS){cS=c4.length;bi=c4}})}}var cU=[],cR=cT.length-cV-1;for(var cO=0,cP=cE.length;cO<cP;++cO){var c1=cE[cO];if(c1<cM.line){cU.push(c1)}else{if(c1>c2.line){cU.push(c1+cR)}}}var cN=cM.line+Math.min(cT.length,500);aW(cM.line,cN);cU.push(cN);cE=cU;cj(100);ak.push({from:cM.line,to:c2.line+1,diff:cR});var cI={from:cM,to:c2,text:cT};if(cp){for(var cJ=cp;cJ.next;cJ=cJ.next){}cJ.next=cI}else{cp=cI}function c3(c4){return c4<=Math.min(c2.line,c2.line+cR)?c4:c4+cR}b9(cZ,c0,c3(b1.from.line),c3(b1.to.line));ap.style.height=(ay.height*cq()+2*bH())+"px"}function bS(cI,cK,cL){cK=ao(cK);if(!cL){cL=cK}else{cL=ao(cL)}cI=V(cI);function cH(cO){if(U(cO,cK)){return cO}if(!U(cL,cO)){return cJ}var cN=cO.line+cI.length-(cL.line-cK.line)-1;var cM=cO.ch;if(cO.line==cL.line){cM+=cI[cI.length-1].length-(cL.ch-(cL.line==cK.line?cK.ch:0))}return{line:cN,ch:cM}}var cJ;bT(cI,cK,cL,function(cM){cJ=cM;return{from:cH(b1.from),to:cH(b1.to)}});return cJ}function bU(cH,cI){bT(V(cH),b1.from,b1.to,function(cJ){if(cI=="end"){return{from:cJ,to:cJ}}else{if(cI=="start"){return{from:b1.from,to:b1.from}}else{return{from:b1.from,to:cJ}}}})}function bT(cH,cK,cM,cI){var cJ=cH.length==1?cH[0].length+cK.ch:cH[cH.length-1].length;var cL=cI({line:cK.line+cH.length-1,ch:cJ});cA(cK,cM,cH,cL.from,cL.to)}function aJ(cI,cL){var cJ=cI.line,cK=cL.line;if(cJ==cK){return aI(cJ).text.slice(cI.ch,cL.ch)}var cH=[aI(cJ).text.slice(cI.ch)];ay.iter(cJ+1,cK,function(cM){cH.push(cM.text)});cH.push(aI(cK).text.slice(0,cL.ch));return cH.join("\n")}function aK(){return aJ(b1.from,b1.to)}var bM=false;function ch(){if(bM){return}bL.set(bE.pollInterval,function(){ci();bP();if(aG){ch()}aB()})}function aD(){var cH=false;bM=true;function cI(){ci();var cJ=bP();if(!cJ&&!cH){cH=true;bL.set(60,cI)}else{bM=false;ch()}aB()}bL.set(20,cI)}var bO="";function bP(){if(a9||!aG||z(a1)){return false}var cJ=a1.value;if(cJ==bO){return false}cd=null;var cI=0,cH=Math.min(bO.length,cJ.length);while(cI<cH&&bO[cI]==cJ[cI]){++cI}if(cI<bO.length){b1.from={line:b1.from.line,ch:b1.from.ch-(bO.length-cI)}}else{if(bF&&T(b1.from,b1.to)){b1.to={line:b1.to.line,ch:Math.min(aI(b1.to.line).text.length,b1.to.ch+(cJ.length-cI))}}}bU(cJ.slice(cI),"end");bO=cJ;return true}function bV(cH){if(!T(b1.from,b1.to)){bO="";a1.value=aK();a1.select()}else{if(cH){bO=a1.value=""}}}function aH(){if(!bE.readOnly){a1.focus()}}function bY(){if(!au.getBoundingClientRect){return}var cH=au.getBoundingClientRect();if(D&&cH.top==cH.bottom){return}var cI=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);if(cH.top<0||cH.bottom>cI){au.scrollIntoView()}}function bX(){var cH=be(b1.inverted?b1.from:b1.to);var cI=bE.lineWrapping?Math.min(cH.x,bc.offsetWidth):cH.x;return b0(cI,cH.y,cI,cH.yBot)}function b0(cR,cT,cS,cU){var cJ=bG(),cK=bH(),cI=cq();cT+=cK;cU+=cK;cR+=cJ;cS+=cJ;var cM=bZ.clientHeight,cO=bZ.scrollTop,cQ=false,cL=true;if(cT<cO){bZ.scrollTop=Math.max(0,cT-2*cI);cQ=true}else{if(cU>cO+cM){bZ.scrollTop=cU+cI-cM;cQ=true}}var cP=bZ.clientWidth,cN=bZ.scrollLeft;var cH=bE.fixedGutter?aP.clientWidth:0;if(cR<cN+cH){if(cR<50){cR=0}bZ.scrollLeft=Math.max(0,cR-10-cH);cQ=true}else{if(cS>cP+cN-3){bZ.scrollLeft=cS+10-cP;cQ=true;if(cS>ap.clientWidth){cL=false}}}if(cQ&&bE.onScroll){bE.onScroll(a3)}return cL}function cD(){var cI=cq(),cK=bZ.scrollTop-bH();var cH=Math.max(0,Math.floor(cK/cI));var cJ=Math.ceil((cK+bZ.clientHeight)/cI);return{from:L(ay,cH),to:L(ay,cJ)}}function cw(cH,cQ){if(!bZ.clientWidth){ce=cf=ax=0;return}var cT=cD();if(cH!==true&&cH.length==0&&cT.from>=ce&&cT.to<=cf){return}var cK=Math.max(cT.from-100,0),cS=Math.min(ay.size,cT.to+100);if(ce<cK&&cK-ce<20){cK=ce}if(cf>cS&&cf-cS<20){cS=Math.min(ay.size,cf)}var cN=cH===true?[]:aq([{from:ce,to:cf,domStart:0}],cH);var cO=0;for(var cM=0;cM<cN.length;++cM){var cP=cN[cM];if(cP.from<cK){cP.domStart+=(cK-cP.from);cP.from=cK}if(cP.to>cS){cP.to=cS}if(cP.from>=cP.to){cN.splice(cM--,1)}else{cO+=cP.to-cP.from}}if(cO==cS-cK){return}cN.sort(function(cU,cV){return cU.domStart-cV.domStart});var cR=cq(),cL=aP.style.display;ba.style.display=aP.style.display="none";bJ(cK,cS,cN);ba.style.display="";var cJ=cK!=ce||cS!=cf||a7!=bZ.clientHeight+cR;if(cJ){a7=bZ.clientHeight+cR}ce=cK;cf=cS;ax=A(ay,cK);bp.style.top=(ax*cR)+"px";ap.style.height=(ay.height*cR+2*bH())+"px";if(ba.childNodes.length!=cf-ce){throw new Error("BAD PATCH! "+JSON.stringify(cN)+" size="+(cf-ce)+" nodes="+ba.childNodes.length)}if(bE.lineWrapping){bj=bZ.clientWidth;var cI=ba.firstChild;ay.iter(ce,cf,function(cV){if(!cV.hidden){var cU=Math.round(cI.offsetHeight/cR)||1;if(cV.height!=cU){cz(cV,cU);aR=true}}cI=cI.nextSibling})}else{if(bj==null){bj=ck(bi)}if(bj>bZ.clientWidth){bc.style.width=bj+"px";ap.style.width="";ap.style.width=bZ.scrollWidth+"px"}else{bc.style.width=ap.style.width=""}}aP.style.display=cL;if(cJ||aR){cx()}cv();if(!cQ&&bE.onUpdate){bE.onUpdate(a3)}return true}function aq(cL,cI){for(var cK=0,cO=cI.length||0;cK<cO;++cK){var cH=cI[cK],cM=[],cJ=cH.diff||0;for(var cN=0,cP=cL.length;cN<cP;++cN){var cQ=cL[cN];if(cH.to<=cQ.from&&cH.diff){cM.push({from:cQ.from+cJ,to:cQ.to+cJ,domStart:cQ.domStart})}else{if(cH.to<=cQ.from||cH.from>=cQ.to){cM.push(cQ)}else{if(cH.from>cQ.from){cM.push({from:cQ.from,to:cH.from,domStart:cQ.domStart})}if(cH.to<cQ.to){cM.push({from:cH.to+cJ,to:cQ.to+cJ,domStart:cQ.domStart+(cH.to-cQ.from)})}}}}cL=cM}return cL}function bJ(cL,cX,cO){if(!cO.length){ba.innerHTML=""}else{function cQ(cY){var cZ=cY.nextSibling;cY.parentNode.removeChild(cY);return cZ}var cJ=0,cI=ba.firstChild,cR;for(var cM=0;cM<cO.length;++cM){var cH=cO[cM];while(cH.domStart>cJ){cI=cQ(cI);cJ++}for(var cP=0,cK=cH.to-cH.from;cP<cK;++cP){cI=cI.nextSibling;cJ++}}while(cI){cI=cQ(cI)}}var cT=cO.shift(),cI=ba.firstChild,cP=cL;var cV=b1.from.line,cW=b1.to.line,cN=cV<cL&&cW>=cL;var cU=cn.createElement("div"),cS;ay.iter(cL,cX,function(c0){var cY=null,cZ=null;if(cN){cY=0;if(cW==cP){cN=false;cZ=b1.to.ch}}else{if(cV==cP){if(cW==cP){cY=b1.from.ch;cZ=b1.to.ch}else{cN=true;cY=b1.from.ch}}}if(cT&&cT.to==cP){cT=cO.shift()}if(!cT||cT.from>cP){if(c0.hidden){cU.innerHTML="<pre></pre>"}else{cU.innerHTML=c0.getHTML(cY,cZ,true,cm)}ba.insertBefore(cU.firstChild,cI)}else{cI=cI.nextSibling}++cP})}function cx(){if(!bE.gutter&&!bE.lineNumbers){return}var cJ=bp.offsetHeight,cI=bZ.clientHeight;aP.style.height=(cJ-cI<2?cI:cJ)+"px";var cK=[],cL=ce;ay.iter(ce,Math.max(cf,ce+1),function(cQ){if(cQ.hidden){cK.push("<pre></pre>")}else{var cR=cQ.gutterMarker;var cS=bE.lineNumbers?cL+bE.firstLineNumber:null;if(cR&&cR.text){cS=cR.text.replace("%N%",cS!=null?cS:"")}else{if(cS==null){cS="\u00a0"}}cK.push((cR&&cR.style?'<pre class="'+cR.style+'">':"<pre>"),cS);for(var cP=1;cP<cQ.height;++cP){cK.push("<br/>&#160;")}cK.push("</pre>")}++cL});aP.style.display="none";aS.innerHTML=cK.join("");var cM=String(ay.size).length,cH=aS.firstChild,cO=u(cH),cN="";while(cO.length+cN.length<cM){cN+="\u00a0"}if(cN){cH.insertBefore(cn.createTextNode(cN),cH.firstChild)}aP.style.display="";bc.style.marginLeft=aP.offsetWidth+"px";aR=false}function cv(){var cH=b1.inverted?b1.from:b1.to,cI=cq();var cK=be(cH,true);var cL=t(cF),cJ=t(ba);a2.style.top=(cK.y+cJ.top-cL.top)+"px";a2.style.left=(cK.x+cJ.left-cL.left)+"px";if(T(b1.from,b1.to)){au.style.top=cK.y+"px";au.style.left=(bE.lineWrapping?Math.min(cK.x,bc.offsetWidth):cK.x)+"px";au.style.display=""}else{au.style.display="none"}}function cb(cH){if(cH){cd=cd||(b1.inverted?b1.to:b1.from)}else{cd=null}}function ca(cH,cJ){var cI=cd&&ao(cd);if(cI){if(U(cI,cH)){cH=cI}else{if(U(cJ,cI)){cJ=cI}}}b9(cH,cJ);cC=true}function b9(cH,cL,cI,cJ){aO=null;if(cI==null){cI=b1.from.line;cJ=b1.to.line}if(T(b1.from,cH)&&T(b1.to,cL)){return}if(U(cL,cH)){var cK=cL;cL=cH;cH=cK}if(cH.line!=cI){cH=cg(cH,cI,b1.from.ch)}if(cL.line!=cJ){cL=cg(cL,cJ,b1.to.ch)}if(T(cH,cL)){b1.inverted=false}else{if(T(cH,b1.to)){b1.inverted=false}else{if(T(cL,b1.from)){b1.inverted=true}}}if(T(cH,cL)){if(!T(b1.from,b1.to)){ak.push({from:cI,to:cJ+1})}}else{if(T(b1.from,b1.to)){ak.push({from:cH.line,to:cL.line+1})}else{if(!T(cH,b1.from)){if(cH.line<cI){ak.push({from:cH.line,to:Math.min(cL.line,cI)+1})}else{ak.push({from:cI,to:Math.min(cJ,cH.line)+1})}}if(!T(cL,b1.to)){if(cL.line<cJ){ak.push({from:Math.max(cI,cH.line),to:cJ+1})}else{ak.push({from:Math.max(cH.line,cJ),to:cL.line+1})}}}}b1.from=cH;b1.to=cL;b2=true}function cg(cL,cK,cJ){function cH(cN){var cQ=cL.line+cN,cO=cN==1?ay.size:-1;while(cQ!=cO){var cP=aI(cQ);if(!cP.hidden){var cM=cL.ch;if(cM>cJ||cM>cP.text.length){cM=cP.text.length}return{line:cQ,ch:cM}}cQ+=cN}}var cI=aI(cL.line);if(!cI.hidden){return cL}if(cL.line>=cK){return cH(1)||cH(-1)}else{return cH(-1)||cH(1)}}function b6(cI,cH,cK){var cJ=ao({line:cI,ch:cH||0});(cK?ca:b9)(cJ,cJ)}function an(cH){return Math.max(0,Math.min(cH,ay.size-1))}function ao(cJ){if(cJ.line<0){return{line:0,ch:0}}if(cJ.line>=ay.size){return{line:ay.size-1,ch:aI(ay.size-1).text.length}}var cH=cJ.ch,cI=aI(cJ.line).text.length;if(cH==null||cH>cI){return{line:cJ.line,ch:cI}}else{if(cH<0){return{line:cJ.line,ch:0}}else{return cJ}}}function aE(cI,cP){var cJ=b1.inverted?b1.from:b1.to,cL=cJ.line,cH=cJ.ch;var cM=aI(cL);function cK(){for(var cR=cL+cI,cQ=cI<0?-1:ay.size;cR!=cQ;cR+=cI){var cS=aI(cR);if(!cS.hidden){cL=cR;cM=cS;return true}}}function cN(cQ){if(cH==(cI<0?0:cM.text.length)){if(!cQ&&cK()){cH=cI<0?cM.text.length:0}else{return false}}else{cH+=cI}return true}if(cP=="char"){cN()}else{if(cP=="column"){cN(true)}else{if(cP=="word"){var cO=false;for(;;){if(cI<0){if(!cN()){break}}if(G(cM.text.charAt(cH))){cO=true}else{if(cO){if(cI<0){cI=1;cN()}break}}if(cI>0){if(!cN()){break}}}}}}return{line:cL,ch:cH}}function bo(cH,cJ){var cI=cH<0?b1.from:b1.to;if(cd||T(b1.from,b1.to)){cI=aE(cH,cJ)}b6(cI.line,cI.ch,true)}function aw(cH,cI){if(!T(b1.from,b1.to)){bS("",b1.from,b1.to)}else{if(cH<0){bS("",aE(cH,cI),b1.to)}else{bS("",b1.from,aE(cH,cI))}}cC=true}var aO=null;function bq(cH,cL){var cI=0,cJ=be(b1.inverted?b1.from:b1.to,true);if(aO!=null){cJ.x=aO}if(cL=="page"){cI=bZ.clientHeight}else{if(cL=="line"){cI=cq()}}var cK=at(cJ.x,cJ.y+cI*cH+2);b6(cK.line,cK.ch,true);aO=cJ.x}function b4(cJ){var cI=aI(cJ.line).text;var cK=cJ.ch,cH=cJ.ch;while(cK>0&&G(cI.charAt(cK-1))){--cK}while(cH<cI.length&&G(cI.charAt(cH))){++cH}ca({line:cJ.line,ch:cK},{line:cJ.line,ch:cH})}function b3(cH){ca({line:cH,ch:0},{line:cH,ch:aI(cH).text.length})}function a0(cJ){if(T(b1.from,b1.to)){return aZ(b1.from.line,cJ)}var cH=b1.to.line-(b1.to.ch?0:1);for(var cI=b1.from.line;cI<=cH;++cI){aZ(cI,cJ)}}function aZ(cP,cK){if(!cK){cK="add"}if(cK=="smart"){if(!bn.indent){cK="prev"}else{var cR=aL(cP)}}var cO=aI(cP),cH=cO.indentation(bE.tabSize),cI=cO.text.match(/^\s*/)[0],cM;if(cK=="prev"){if(cP){cM=aI(cP-1).indentation(bE.tabSize)}else{cM=0}}else{if(cK=="smart"){cM=bn.indent(cR,cO.text.slice(cI.length),cO.text)}else{if(cK=="add"){cM=cH+bE.indentUnit}else{if(cK=="subtract"){cM=cH-bE.indentUnit}}}}cM=Math.max(0,cM);var cJ=cM-cH;if(!cJ){if(b1.from.line!=cP&&b1.to.line!=cP){return}var cN=cI}else{var cN="",cQ=0;if(bE.indentWithTabs){for(var cL=Math.floor(cM/bE.tabSize);cL;--cL){cQ+=bE.tabSize;cN+="\t"}}while(cQ<cM){++cQ;cN+=" "}}bS(cN,{line:cP,ch:0},{line:cP,ch:cI.length})}function bd(){bn=d.getMode(bE,bE.mode);ay.iter(0,ay.size,function(cH){cH.stateAfter=null});cE=[0];cj()}function aQ(){var cH=bE.gutter||bE.lineNumbers;aP.style.display=cH?"":"none";if(cH){aR=true}else{ba.parentNode.style.marginLeft=0}}function cG(cH,cJ){if(bE.lineWrapping){cF.className+=" CodeMirror-wrap";var cI=bZ.clientWidth/am()-3;ay.iter(0,ay.size,function(cL){if(cL.hidden){return}var cK=Math.ceil(cL.text.length/cI)||1;if(cK!=1){cz(cL,cK)}});bc.style.width=ap.style.width=""}else{cF.className=cF.className.replace(" CodeMirror-wrap","");bj=null;bi="";ay.iter(0,ay.size,function(cK){if(cK.height!=1&&!cK.hidden){cz(cK,1)}if(cK.text.length>bi.length){bi=cK.text}})}ak.push({from:0,to:ay.size})}function ar(){for(var cI='<span class="cm-tab">',cH=0;cH<bE.tabSize;++cH){cI+=" "}return cI+"</span>"}function cl(){cm=ar();cw(true)}function cs(){bZ.className=bZ.className.replace(/\s*cm-s-\w+/g,"")+bE.theme.replace(/(^|\s)\s*/g," cm-s-")}function cr(){this.set=[]}cr.prototype.clear=bC(function(){var cN=Infinity,cM=-Infinity;for(var cI=0,cH=this.set.length;cI<cH;++cI){var cK=this.set[cI],cO=cK.marked;if(!cO||!cK.parent){continue}var cL=M(cK);cN=Math.min(cN,cL);cM=Math.max(cM,cL);for(var cJ=0;cJ<cO.length;++cJ){if(cO[cJ].set==this.set){cO.splice(cJ--,1)}}}if(cN!=Infinity){ak.push({from:cN,to:cM+1})}});cr.prototype.find=function(){var cJ,cP;for(var cK=0,cH=this.set.length;cK<cH;++cK){var cM=this.set[cK],cO=cM.marked;for(var cL=0;cL<cO.length;++cL){var cN=cO[cL];if(cN.set==this.set){if(cN.from!=null||cN.to!=null){var cI=M(cM);if(cI!=null){if(cN.from!=null){cJ={line:cI,ch:cN.from}}if(cN.to!=null){cP={line:cI,ch:cN.to}}}}}}}return{from:cJ,to:cP}};function bf(cK,cN,cI){cK=ao(cK);cN=ao(cN);var cM=new cr();function cH(cQ,cP,cR,cO){aI(cQ).addMark(new Q(cP,cR,cO,cM.set))}if(cK.line==cN.line){cH(cK.line,cK.ch,cN.ch,cI)}else{cH(cK.line,cK.ch,null,cI);for(var cL=cK.line+1,cJ=cN.line;cL<cJ;++cL){cH(cL,null,null,cI)}cH(cN.line,null,cN.ch,cI)}ak.push({from:cK.line,to:cN.line+1});return cM}function b5(cI){cI=ao(cI);var cH=new b(cI.ch);aI(cI.line).addMark(cH);return cH}function ab(cI,cJ,cH){if(typeof cI=="number"){cI=aI(an(cI))}cI.gutterMarker={text:cJ,style:cH};aR=true;return cI}function bR(cH){if(typeof cH=="number"){cH=aI(an(cH))}cH.gutterMarker=null;aR=true}function aj(cH,cK){var cJ=cH,cI=cH;if(typeof cH=="number"){cI=aI(an(cH))}else{cJ=M(cH)}if(cJ==null){return null}if(cK(cI,cJ)){ak.push({from:cJ,to:cJ+1})}else{return null}return cI}function b7(cI,cH){return aj(cI,function(cJ){if(cJ.className!=cH){cJ.className=cH;return true}})}function b8(cH,cI){return aj(cH,function(cJ,cK){if(cJ.hidden!=cI){cJ.hidden=cI;cz(cJ,cI?0:1);if(cI&&(b1.from.line==cK||b1.to.line==cK)){b9(cg(b1.from,b1.from.line,b1.from.ch),cg(b1.to,b1.to.line,b1.to.ch))}return(aR=true)}})}function bb(cH){if(typeof cH=="number"){if(!a4(cH)){return null}var cJ=cH;cH=aI(cH);if(!cH){return null}}else{var cJ=M(cH);if(cJ==null){return null}}var cI=cH.gutterMarker;return{line:cJ,handle:cH,text:cH.text,markerText:cI&&cI.text,markerClass:cI&&cI.style,lineClass:cH.className}}function ck(cH){bk.innerHTML="<pre><span>x</span></pre>";bk.firstChild.firstChild.firstChild.nodeValue=cH;return bk.firstChild.firstChild.offsetWidth||10}function al(cM,cT){if(cT<=0){return 0}var cN=aI(cM),cQ=cN.text;function cL(cU){bk.innerHTML="<pre><span>"+cN.getHTML(null,null,false,cm,cU)+"</span></pre>";return bk.firstChild.firstChild.offsetWidth}var cJ=0,cK=0,cR=cQ.length,cS;var cH=Math.min(cR,Math.ceil(cT/am()));for(;;){var cI=cL(cH);if(cI<=cT&&cH<cR){cH=Math.min(cR,Math.ceil(cH*1.2))}else{cS=cI;cR=cH;break}}if(cT>cS){return cR}cH=Math.floor(cR*0.8);cI=cL(cH);if(cI<cT){cJ=cH;cK=cI}for(;;){if(cR-cJ<=1){return(cS-cT>cT-cK)?cJ:cR}var cO=Math.ceil((cJ+cR)/2),cP=cL(cO);if(cP>cT){cR=cO;cS=cP}else{cJ=cO;cK=cP}}}var co=Math.floor(Math.random()*16777215).toString(16);function bl(cN,cI){var cL="";if(bE.lineWrapping){var cK=cN.text.indexOf(" ",cI+2);cL=C(cN.text.slice(cI+1,cK<0?cN.text.length:cK+(D?5:0)))}bk.innerHTML="<pre>"+cN.getHTML(null,null,false,cm,cI)+'<span id="CodeMirror-temp-'+co+'">'+C(cN.text.charAt(cI)||" ")+"</span>"+cL+"</pre>";var cJ=document.getElementById("CodeMirror-temp-"+co);var cO=cJ.offsetTop,cM=cJ.offsetLeft;if(D&&cI&&cO==0&&cM==0){var cH=document.createElement("span");cH.innerHTML="x";cJ.parentNode.insertBefore(cH,cJ.nextSibling);cO=cH.offsetTop}return{top:cO,left:cM}}function be(cJ,cH){var cL,cI=cq(),cM=cI*(A(ay,cJ.line)-(cH?ax:0));if(cJ.ch==0){cL=0}else{var cK=bl(aI(cJ.line),cJ.ch);cL=cK.left;if(bE.lineWrapping){cM+=Math.max(0,cK.top)}}return{x:cL,y:cM,yBot:cM+cI}}function at(cY,cZ){if(cZ<0){cZ=0}var cU=cq(),cH=am(),cN=ax+Math.floor(cZ/cU);var cP=L(ay,cN);if(cP>=ay.size){return{line:ay.size-1,ch:aI(ay.size-1).text.length}}var cQ=aI(cP),cT=cQ.text;var cX=bE.lineWrapping,cO=cX?cN-A(ay,cP):0;if(cY<=0&&cO==0){return{line:cP,ch:0}}function cM(c0){var c2=bl(cQ,c0);if(cX){var c1=Math.round(c2.top/cU);return Math.max(0,c2.left+(c1-cO)*bZ.clientWidth)}return c2.left}var cK=0,cL=0,cV=cT.length,cW;var cI=Math.min(cV,Math.ceil((cY+cO*bZ.clientWidth*0.9)/cH));for(;;){var cJ=cM(cI);if(cJ<=cY&&cI<cV){cI=Math.min(cV,Math.ceil(cI*1.2))}else{cW=cJ;cV=cI;break}}if(cY>cW){return{line:cP,ch:cV}}cI=Math.floor(cV*0.8);cJ=cM(cI);if(cJ<cY){cK=cI;cL=cJ}for(;;){if(cV-cK<=1){return{line:cP,ch:(cW-cY>cY-cL)?cK:cV}}var cR=Math.ceil((cK+cV)/2),cS=cM(cR);if(cS>cY){cV=cR;cW=cS}else{cK=cR;cL=cS}}}function bI(cJ){var cH=be(cJ,true),cI=t(bc);return{x:cI.left+cH.x,y:cI.top+cH.y,yBot:cI.top+cH.yBot}}var ae,af,bm;function cq(){if(bm==null){bm="<pre>";for(var cH=0;cH<49;++cH){bm+="x<br/>"}bm+="x</pre>"}var cI=ba.clientHeight;if(cI==af){return ae}af=cI;bk.innerHTML=bm;ae=bk.firstChild.offsetHeight/50||1;bk.innerHTML="";return ae}var ag,ah=0;function am(){if(bZ.clientWidth==ah){return ag}ah=bZ.clientWidth;return(ag=ck("x"))}function bH(){return bc.offsetTop}function bG(){return bc.offsetLeft}function bN(cH,cI){var cK=t(bZ,true),cL,cM;try{cL=cH.clientX;cM=cH.clientY}catch(cH){return null}if(!cI&&(cL-cK.left>bZ.clientWidth||cM-cK.top>bZ.clientHeight)){return null}var cJ=t(bc,true);return at(cL-cJ.left,cM-cJ.top)}function bt(cH){var cK=bN(cH);if(!cK||window.opera){return}if(T(b1.from,b1.to)||U(cK,b1.from)||!U(cK,b1.to)){bC(b6)(cK.line,cK.ch)}var cJ=a1.style.cssText;a2.style.position="absolute";a1.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(cH.clientY-5)+"px; left: "+(cH.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";a9=true;var cM=a1.value=aK();aH();a1.select();function cL(){var cN=V(a1.value).join("\n");if(cN!=cM){bC(bU)(cN,"end")}a2.style.position="relative";a1.style.cssText=cJ;a9=false;bV(true);ch()}if(x){p(cH);var cI=g(window,"mouseup",function(){cI();setTimeout(cL,20)},true)}else{setTimeout(cL,50)}}function bW(){clearInterval(ac);var cH=true;au.style.visibility="";ac=setInterval(function(){au.style.visibility=(cH=!cH)?"":"hidden"},650)}var bh={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function bg(cH){var cP=b1.inverted?b1.from:b1.to,cR=aI(cP.line),cV=cP.ch-1;var cS=(cV>=0&&bh[cR.text.charAt(cV)])||bh[cR.text.charAt(++cV)];if(!cS){return}var cI=cS.charAt(0),cN=cS.charAt(1)==">",cK=cN?1:-1,cY=cR.styles;for(var cT=cV+1,cQ=0,cL=cY.length;cQ<cL;cQ+=2){if((cT-=cY[cQ].length)<=0){var c0=cY[cQ+1];break}}var cZ=[cR.text.charAt(cV)],cW=/[(){}[\]]/;function cX(c7,c4,dd){if(!c7.text){return}var da=c7.styles,c9=cN?0:c7.text.length-1,c2;for(var c5=cN?0:da.length-2,c3=cN?da.length:-2;c5!=c3;c5+=2*cK){var dc=da[c5];if(da[c5+1]!=null&&da[c5+1]!=c0){c9+=cK*dc.length;continue}for(var c6=cN?0:dc.length-1,db=cN?dc.length:-1;c6!=db;c6+=cK,c9+=cK){if(c9>=c4&&c9<dd&&cW.test(c2=dc.charAt(c6))){var c8=bh[c2];if(c8.charAt(1)==">"==cN){cZ.push(c2)}else{if(cZ.pop()!=c8.charAt(0)){return{pos:c9,match:false}}else{if(!cZ.length){return{pos:c9,match:true}}}}}}}}for(var cQ=cP.line,cL=cN?Math.min(cQ+100,ay.size):Math.max(-1,cQ-100);cQ!=cL;cQ+=cK){var cR=aI(cQ),cM=cQ==cP.line;var cO=cX(cR,cM&&cN?cV+1:0,cM&&!cN?cV:cR.text.length);if(cO){break}}if(!cO){cO={pos:null,match:false}}var c0=cO.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var cU=bf({line:cP.line,ch:cV},{line:cP.line,ch:cV+1},c0),c1=cO.pos!=null&&bf({line:cQ,ch:cO.pos},{line:cQ,ch:cO.pos+1},c0);var cJ=bC(function(){cU.clear();c1&&c1.clear()});if(cH){setTimeout(cJ,800)}else{ad=cJ}}function aF(cM){var cK,cL;for(var cN=cM,cI=cM-40;cN>cI;--cN){if(cN==0){return 0}var cJ=aI(cN-1);if(cJ.stateAfter){return cN}var cH=cJ.indentation(bE.tabSize);if(cL==null||cK>cH){cL=cN-1;cK=cH}}return cL}function aL(cH){var cI=aF(cH),cJ=cI&&aI(cI-1).stateAfter;if(!cJ){cJ=W(bn)}else{cJ=i(bn,cJ)}ay.iter(cI,cH,function(cK){cK.highlight(bn,cJ,bE.tabSize);cK.stateAfter=i(bn,cJ)});if(cI<cH){ak.push({from:cI,to:cH})}if(cH<ay.size&&!aI(cH).stateAfter){cE.push(cH)}return cJ}function aW(cI,cH){var cJ=aL(cI);ay.iter(cI,cH,function(cK){cK.highlight(bn,cJ,bE.tabSize);cK.stateAfter=i(bn,cJ)})}function aX(){var cJ=+new Date+bE.workTime;var cK=cE.length;while(cE.length){if(!aI(ce).stateAfter){var cP=ce}else{var cP=cE.pop()}if(cP>=ay.size){continue}var cN=aF(cP),cO=cN&&aI(cN-1).stateAfter;if(cO){cO=i(bn,cO)}else{cO=W(bn)}var cQ=0,cI=bn.compareStates,cM=false,cL=cN,cH=false;ay.iter(cL,ay.size,function(cT){var cS=cT.stateAfter;if(+new Date>cJ){cE.push(cL);cj(bE.workDelay);if(cM){ak.push({from:cP,to:cL+1})}return(cH=true)}var cR=cT.highlight(bn,cO,bE.tabSize);if(cR){cM=true}cT.stateAfter=i(bn,cO);if(cI){if(cS&&cI(cS,cO)){return true}}else{if(cR!==false||!cS){cQ=0}else{if(++cQ>3&&(!bn.indent||bn.indent(cS,"")==bn.indent(cO,""))){return true}}}++cL});if(cH){return}if(cM){ak.push({from:cP,to:cL+1})}}if(cK&&bE.onHighlightComplete){bE.onHighlightComplete(a3)}}function cj(cH){if(!cE.length){return}aV.set(cH,bC(aX))}function ci(){cy=cC=cp=null;ak=[];b2=false;ai=[]}function aB(){var cJ=false,cL;if(b2){cJ=!bX()}if(ak.length){cL=cw(ak,true)}else{if(b2){cv()}if(aR){cx()}}if(cJ){bX()}if(b2){bY();bW()}if(aG&&!a9&&(cy===true||(cy!==false&&b2))){bV(cC)}if(b2&&bE.matchBrackets){setTimeout(bC(function(){if(ad){ad();ad=null}if(T(b1.from,b1.to)){bg(false)}}),20)}var cK=cp,cH=ai;if(b2&&bE.onCursorActivity){bE.onCursorActivity(a3)}if(cK&&bE.onChange&&a3){bE.onChange(a3,cK)}for(var cI=0;cI<cH.length;++cI){cH[cI](a3)}if(cL&&bE.onUpdate){bE.onUpdate(a3)}}var br=0;function bC(cH){return function(){if(!br++){ci()}try{var cI=cH.apply(this,arguments)}finally{if(!--br){aB()}}return cI}}for(var aC in w){if(w.propertyIsEnumerable(aC)&&!a3.propertyIsEnumerable(aC)){a3[aC]=w[aC]}}return a3}d.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,onKeyEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var P=/Mac/.test(navigator.platform);var aa=/Win/.test(navigator.platform);var S={},R={};d.defineMode=function(ac,ab){if(!d.defaults.mode&&ac!="null"){d.defaults.mode=ac}S[ac]=ab};d.defineMIME=function(ab,ac){R[ab]=ac};d.getMode=function(ae,af){if(typeof af=="string"&&R.hasOwnProperty(af)){af=R[af]}if(typeof af=="string"){var ad=af,ab={}}else{if(af!=null){var ad=af.name,ab=af}}var ac=S[ad];if(!ac){if(window.console){console.warn("No mode "+ad+" found, falling back to plain text.")}return d.getMode(ae,"text/plain")}return ac(ae,ab||{})};d.listModes=function(){var ab=[];for(var ac in S){if(S.propertyIsEnumerable(ac)){ab.push(ac)}}return ab};d.listMIMEs=function(){var ab=[];for(var ac in R){if(R.propertyIsEnumerable(ac)){ab.push({mime:ac,mode:R[ac]})}}return ab};var w=d.extensions={};d.defineExtension=function(ac,ab){w[ac]=ab};var e=d.commands={selectAll:function(ab){ab.setSelection({line:0,ch:0},{line:ab.lineCount()-1})},killLine:function(ab){var ac=ab.getCursor(true),ae=ab.getCursor(false),ad=!T(ac,ae);if(!ad&&ab.getLine(ac.line).length==ac.ch){ab.replaceRange("",ac,{line:ac.line+1,ch:0})}else{ab.replaceRange("",ac,ad?ae:{line:ac.line})}},deleteLine:function(ab){var ac=ab.getCursor().line;ab.replaceRange("",{line:ac,ch:0},{line:ac})},undo:function(ab){ab.undo()},redo:function(ab){ab.redo()},goDocStart:function(ab){ab.setCursor(0,0,true)},goDocEnd:function(ab){ab.setSelection({line:ab.lineCount()-1},null,true)},goLineStart:function(ab){ab.setCursor(ab.getCursor().line,0,true)},goLineStartSmart:function(ab){var ac=ab.getCursor();var ae=ab.getLine(ac.line),ad=Math.max(0,ae.search(/\S/));ab.setCursor(ac.line,ac.ch<=ad&&ac.ch?0:ad,true)},goLineEnd:function(ab){ab.setSelection({line:ab.getCursor().line},null,true)},goLineUp:function(ab){ab.moveV(-1,"line")},goLineDown:function(ab){ab.moveV(1,"line")},goPageUp:function(ab){ab.moveV(-1,"page")},goPageDown:function(ab){ab.moveV(1,"page")},goCharLeft:function(ab){ab.moveH(-1,"char")},goCharRight:function(ab){ab.moveH(1,"char")},goColumnLeft:function(ab){ab.moveH(-1,"column")},goColumnRight:function(ab){ab.moveH(1,"column")},goWordLeft:function(ab){ab.moveH(-1,"word")},goWordRight:function(ab){ab.moveH(1,"word")},delCharLeft:function(ab){ab.deleteH(-1,"char")},delCharRight:function(ab){ab.deleteH(1,"char")},delWordLeft:function(ab){ab.deleteH(-1,"word")},delWordRight:function(ab){ab.deleteH(1,"word")},indentAuto:function(ab){ab.indentSelection("smart")},indentMore:function(ab){ab.indentSelection("add")},indentLess:function(ab){ab.indentSelection("subtract")},insertTab:function(ab){ab.replaceSelection("\t","end")},transposeChars:function(ab){var ac=ab.getCursor(),ad=ab.getLine(ac.line);if(ac.ch>0&&ac.ch<ad.length-1){ab.replaceRange(ad.charAt(ac.ch)+ad.charAt(ac.ch-1),{line:ac.line,ch:ac.ch-1},{line:ac.line,ch:ac.ch+1})}},newlineAndIndent:function(ab){ab.replaceSelection("\n","end");ab.indentLine(ab.getCursor().line)},toggleOverwrite:function(ab){ab.toggleOverwrite()}};var H=d.keyMap={};H.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"indentMore","Shift-Tab":"indentLess",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};H.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"};H.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]};H["default"]=P?H.macDefault:H.pcDefault;H.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function O(ae,ab,ad){function ac(ak,aj,ah){var ag=aj[ak];if(ag!=null){return ag}if(ah==null){ah=aj.fallthrough}if(ah==null){return aj.catchall}if(typeof ah=="string"){return ac(ak,H[ah])}for(var ai=0,af=ah.length;ai<af;++ai){ag=ac(ak,H[ah[ai]]);if(ag!=null){return ag}}return null}return ab?ac(ae,ab,ad):ac(ae,H[ad])}function F(ab){var ac=I[ab.keyCode];return ac=="Ctrl"||ac=="Alt"||ac=="Shift"||ac=="Mod"}d.fromTextArea=function(ag,ac){if(!ac){ac={}}ac.value=ag.value;if(!ac.tabindex&&ag.tabindex){ac.tabindex=ag.tabindex}function af(){ag.value=ab.getValue()}if(ag.form){var ae=g(ag.form,"submit",af,true);if(typeof ag.form.submit=="function"){var ad=ag.form.submit;function ah(){af();ag.form.submit=ad;ag.form.submit();ag.form.submit=ah}ag.form.submit=ah}}ag.style.display="none";var ab=d(function(ai){ag.parentNode.insertBefore(ai,ag.nextSibling)},ac);ab.save=af;ab.getTextArea=function(){return ag};ab.toTextArea=function(){af();ag.parentNode.removeChild(ab.getWrapperElement());ag.style.display="";if(ag.form){ae();if(typeof ag.form.submit=="function"){ag.form.submit=ad}}};return ab};function i(ab,ae){if(ae===true){return ae}if(ab.copyState){return ab.copyState(ae)}var ad={};for(var ac in ae){var af=ae[ac];if(af instanceof Array){af=af.concat([])}ad[ac]=af}return ad}d.copyState=i;function W(ad,ab,ac){return ad.startState?ad.startState(ab,ac):true}d.startState=W;function Y(ab,ac){this.pos=this.start=0;this.string=ab;this.tabSize=ac||8}Y.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(ac){var ab=this.string.charAt(this.pos);if(typeof ac=="string"){var ad=ab==ac}else{var ad=ab&&(ac.test?ac.test(ab):ac(ab))}if(ad){++this.pos;return ab}},eatWhile:function(ab){var ac=this.pos;while(this.eat(ab)){}return this.pos>ac},eatSpace:function(){var ab=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>ab},skipToEnd:function(){this.pos=this.string.length},skipTo:function(ab){var ac=this.string.indexOf(ab,this.pos);if(ac>-1){this.pos=ac;return true}},backUp:function(ab){this.pos-=ab},column:function(){return k(this.string,this.start,this.tabSize)},indentation:function(){return k(this.string,null,this.tabSize)},match:function(af,ad,ac){if(typeof af=="string"){function ab(ag){return ac?ag.toLowerCase():ag}if(ab(this.string).indexOf(ab(af),this.pos)==this.pos){if(ad!==false){this.pos+=af.length}return true}}else{var ae=this.string.slice(this.pos).match(af);if(ae&&ad!==false){this.pos+=ae[0].length}return ae}},current:function(){return this.string.slice(this.start,this.pos)}};d.StringStream=Y;function Q(ac,ae,ab,ad){this.from=ac;this.to=ae;this.style=ab;this.set=ad}Q.prototype={attach:function(ab){this.set.push(ab)},detach:function(ac){var ab=E(this.set,ac);if(ab>-1){this.set.splice(ab,1)}},split:function(ad,ac){if(this.to<=ad&&this.to!=null){return null}var ab=this.from<ad||this.from==null?null:this.from-ad+ac;var ae=this.to==null?null:this.to-ad+ac;return new Q(ab,ae,this.style,this.set)},dup:function(){return new Q(null,null,this.style,this.set)},clipTo:function(ad,ac,af,ae,ab){if(this.from!=null&&this.from>=ac){this.from=Math.max(ae,this.from)+ab}if(this.to!=null&&this.to>ac){this.to=ae<this.to?this.to+ab:ac}if(ad&&ae>this.from&&(ae<this.to||this.to==null)){this.from=null}if(af&&(ac<this.to||this.to==null)&&(ac>this.from||this.from==null)){this.to=null}},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(ab){return this.set==ab.set}};function b(ab){this.from=ab;this.to=ab;this.line=null}b.prototype={attach:function(ab){this.line=ab},detach:function(ab){if(this.line==ab){this.line=null}},split:function(ac,ab){if(ac<this.from){this.from=this.to=(this.from-ac)+ab;return this}},isDead:function(){return this.from>this.to},clipTo:function(ad,ac,af,ae,ab){if((ad||ac<this.from)&&(af||ae>this.to)){this.from=0;this.to=-1}else{if(this.from>ac){this.from=this.to=Math.max(ae,this.from)+ab}}},sameSet:function(ab){return false},find:function(){if(!this.line||!this.line.parent){return null}return{line:M(this.line),ch:this.from}},clear:function(){if(this.line){var ab=E(this.line.marked,this);if(ab!=-1){this.line.marked.splice(ab,1)}this.line=null}}};function K(ac,ab){this.styles=ab||[ac,null];this.text=ac;this.height=1;this.marked=this.gutterMarker=this.className=this.handlers=null;this.stateAfter=this.parent=this.hidden=null}K.inheritMarks=function(ai,ah){var ac=new K(ai),ae=ah&&ah.marked;if(ae){for(var ab=0;ab<ae.length;++ab){if(ae[ab].to==null&&ae[ab].style){var af=ac.marked||(ac.marked=[]),ad=ae[ab];var ag=ad.dup();af.push(ag);ag.attach(ac)}}}return ac};K.prototype={replace:function(ac,aj,ah){var ag=[],af=this.marked,ai=aj==null?this.text.length:aj;j(0,ac,this.styles,ag);if(ah){ag.push(ah,null)}j(ai,this.text.length,this.styles,ag);this.styles=ag;this.text=this.text.slice(0,ac)+ah+this.text.slice(ai);this.stateAfter=null;if(af){var ab=ah.length-(ai-ac);for(var ad=0,ae=af[ad];ad<af.length;++ad){ae.clipTo(ac==null,ac||0,aj==null,ai,ab);if(ae.isDead()){ae.detach(this);af.splice(ad--,1)}}}},split:function(af,ai){var ag=[ai,null],ad=this.marked;j(af,this.text.length,this.styles,ag);var ah=new K(ai+this.text.slice(af),ag);if(ad){for(var ab=0;ab<ad.length;++ab){var ac=ad[ab];var ae=ac.split(af,ai.length);if(ae){if(!ah.marked){ah.marked=[]}ah.marked.push(ae);ae.attach(ah)}}}return ah},append:function(ad){var ag=this.text.length,af=ad.marked,ai=this.marked;this.text+=ad.text;j(0,ad.text.length,ad.styles,this.styles);if(ai){for(var ab=0;ab<ai.length;++ab){if(ai[ab].to==null){ai[ab].to=ag}}}if(af&&af.length){if(!ai){this.marked=ai=[]}outer:for(var ab=0;ab<af.length;++ab){var ae=af[ab];if(!ae.from){for(var ac=0;ac<ai.length;++ac){var ah=ai[ac];if(ah.to==ag&&ah.sameSet(ae)){ah.to=ae.to==null?null:ae.to+ag;if(ah.isDead()){ah.detach(this);af.splice(ab--,1)}continue outer}}}ai.push(ae);ae.attach(this);ae.from+=ag;if(ae.to!=null){ae.to+=ag}}}},fixMarkEnds:function(ah){var af=this.marked,ag=ah.marked;if(!af){return}for(var ac=0;ac<af.length;++ac){var ae=af[ac],ab=ae.to==null;if(ab&&ag){for(var ad=0;ad<ag.length;++ad){if(ag[ad].sameSet(ae)){ab=false;break}}}if(ab){ae.to=this.text.length}}},fixMarkStarts:function(){var ac=this.marked;if(!ac){return}for(var ab=0;ab<ac.length;++ab){if(ac[ab].from==null){ac[ab].from=0}}},addMark:function(ab){ab.attach(this);if(this.marked==null){this.marked=[]}this.marked.push(ab);this.marked.sort(function(ac,ad){return(ac.from||0)-(ad.from||0)})},highlight:function(ad,ah,al){var ai=new Y(this.text,al),ag=this.styles,ae=0;var ab=false,ac=ag[0],af;if(this.text==""&&ad.blankLine){ad.blankLine(ah)}while(!ai.eol()){var aj=ad.token(ai,ah);var ak=this.text.slice(ai.start,ai.pos);ai.start=ai.pos;if(ae&&ag[ae-1]==aj){ag[ae-2]+=ak}else{if(ak){if(!ab&&(ag[ae+1]!=aj||(ae&&ag[ae-2]!=af))){ab=true}ag[ae++]=ak;ag[ae++]=aj;af=ac;ac=ag[ae]}}if(ai.pos>5000){ag[ae++]=this.text.slice(ai.pos);ag[ae++]=null;break}}if(ag.length!=ae){ag.length=ae;ab=true}if(ae&&ag[ae-2]!=af){ab=true}return ab||(ag.length<5&&this.text.length<10?null:false)},getTokenAt:function(ac,ad,ab){var ag=this.text,ae=new Y(ag);while(ae.pos<ab&&!ae.eol()){ae.start=ae.pos;var af=ac.token(ae,ad)}return{start:ae.start,end:ae.pos,string:ae.current(),className:af||null,state:ad}},indentation:function(ab){return k(this.text,null,ab)},getHTML:function(at,ax,ak,aA,af){var ai=[],ah=true;if(ak){ai.push(this.className?'<pre class="'+this.className+'">':"<pre>")}function av(aE,aD){if(!aE){return}if(ah&&D&&aE.charAt(0)==" "){aE="\u00a0"+aE.slice(1)}ah=false;if(aD){ai.push('<span class="',aD,'">',C(aE).replace(/\t/g,aA),"</span>")}else{ai.push(C(aE).replace(/\t/g,aA))}}var aw=this.styles,ab=this.text,ao=this.marked;if(at==ax){at=null}var am=ab.length;if(af!=null){am=Math.min(af,am)}if(!ab&&af==null){av(" ",at!=null&&ax==null?"CodeMirror-selected":null)}else{if(!ao&&at==null){for(var aj=0,ad=0;ad<am;aj+=2){var ay=aw[aj],az=aw[aj+1],al=ay.length;if(ad+al>am){ay=ay.slice(0,am-ad)}ad+=al;av(ay,az&&"cm-"+az)}}else{var ar=0,aj=0,aB="",az,au=0;var ap=-1,an=null;function aq(){if(ao){ap+=1;an=(ap<ao.length)?ao[ap]:null}}aq();while(ar<am){var aC=am;var ag="";if(at!=null){if(at>ar){aC=at}else{if(ax==null||ax>ar){ag=" CodeMirror-selected";if(ax!=null){aC=Math.min(aC,ax)}}}}while(an&&an.to!=null&&an.to<=ar){aq()}if(an){if(an.from>ar){aC=Math.min(aC,an.from)}else{ag+=" "+an.style;if(an.to!=null){aC=Math.min(aC,an.to)}}}for(;;){var ae=ar+aB.length;var ac=az;if(ag){ac=az?az+ag:ag}av(ae>aC?aB.slice(0,aC-ar):aB,ac);if(ae>=aC){aB=aB.slice(aC-ar);ar=aC;break}ar=ae;aB=aw[aj++];az="cm-"+aw[aj++]}}if(at!=null&&ax==null){av(" ","CodeMirror-selected")}}}if(ak){ai.push("</pre>")}return ai.join("")},cleanUp:function(){this.parent=null;if(this.marked){for(var ac=0,ab=this.marked.length;ac<ab;++ac){this.marked[ac].detach(this)}}}};function j(ad,aj,ah,ab){for(var ae=0,ag=0,ai=0;ag<aj;ae+=2){var af=ah[ae],ac=ag+af.length;if(ai==0){if(ac>ad){ab.push(af.slice(ad-ag,Math.min(af.length,aj-ag)),ah[ae+1])}if(ac>=ad){ai=1}}else{if(ai==1){if(ac>aj){ab.push(af.slice(0,aj-ag),ah[ae+1])}else{ab.push(af,ah[ae+1])}}}ag=ac}}function J(ae){this.lines=ae;this.parent=null;for(var ad=0,ab=ae.length,ac=0;ad<ab;++ad){ae[ad].parent=this;ac+=ae[ad].height}this.height=ac}J.prototype={chunkSize:function(){return this.lines.length},remove:function(ab,ah,ac){for(var ae=ab,ad=ab+ah;ae<ad;++ae){var ag=this.lines[ae];this.height-=ag.height;ag.cleanUp();if(ag.handlers){for(var af=0;af<ag.handlers.length;++af){ac.push(ag.handlers[af])}}}this.lines.splice(ab,ah)},collapse:function(ab){ab.splice.apply(ab,[ab.length,0].concat(this.lines))},insertHeight:function(ab,af,ad){this.height+=ad;this.lines.splice.apply(this.lines,[ab,0].concat(af));for(var ae=0,ac=af.length;ae<ac;++ae){af[ae].parent=this}},iterN:function(ab,ad,ae){for(var ac=ab+ad;ab<ac;++ab){if(ae(this.lines[ab])){return true}}}};function c(ac){this.children=ac;var ag=0,ae=0;for(var af=0,ad=ac.length;af<ad;++af){var ab=ac[af];ag+=ab.chunkSize();ae+=ab.height;ab.parent=this}this.size=ag;this.height=ae;this.parent=null}c.prototype={chunkSize:function(){return this.size},remove:function(ab,ag,ac){this.size-=ag;for(var ae=0;ae<this.children.length;++ae){var ad=this.children[ae],aj=ad.chunkSize();if(ab<aj){var ai=Math.min(ag,aj-ab),ah=ad.height;ad.remove(ab,ai,ac);this.height-=ah-ad.height;if(aj==ai){this.children.splice(ae--,1);ad.parent=null}if((ag-=ai)==0){break}ab=0}else{ab-=aj}}if(this.size-ag<25){var af=[];this.collapse(af);this.children=[new J(af)]}},collapse:function(ad){for(var ac=0,ab=this.children.length;ac<ab;++ac){this.children[ac].collapse(ad)}},insert:function(ab,af){var ad=0;for(var ae=0,ac=af.length;ae<ac;++ae){ad+=af[ae].height}this.insertHeight(ab,af,ad)},insertHeight:function(ab,ag,ae){this.size+=ag.length;this.height+=ae;for(var af=0,ad=this.children.length;af<ad;++af){var ac=this.children[af],aj=ac.chunkSize();if(ab<=aj){ac.insertHeight(ab,ag,ae);if(ac.lines&&ac.lines.length>50){while(ac.lines.length>50){var ai=ac.lines.splice(ac.lines.length-25,25);var ah=new J(ai);ac.height-=ah.height;this.children.splice(af+1,0,ah);ah.parent=this}this.maybeSpill()}break}ab-=aj}},maybeSpill:function(){if(this.children.length<=10){return}var ac=this;do{var af=ac.children.splice(ac.children.length-5,5);var ae=new c(af);if(!ac.parent){var ab=new c(ac.children);ab.parent=ac;ac.children=[ab,ae];ac=ab}else{ac.size-=ae.size;ac.height-=ae.height;var ad=E(ac.parent.children,ac);ac.parent.children.splice(ad+1,0,ae)}ae.parent=ac.parent}while(ac.children.length>10);ac.parent.maybeSpill()},iter:function(ab,ad,ac){this.iterN(ab,ad-ab,ac)},iterN:function(ab,af,ag){for(var ae=0,ad=this.children.length;ae<ad;++ae){var ac=this.children[ae],ah=ac.chunkSize();if(ab<ah){var ai=Math.min(af,ah-ab);if(ac.iterN(ab,ai,ag)){return true}if((af-=ai)==0){break}ab=0}else{ab-=ah}}}};function y(ac,ae){while(!ac.lines){for(var ad=0;;++ad){var ab=ac.children[ad],af=ab.chunkSize();if(ae<af){ac=ab;break}ae-=af}}return ac.lines[ae]}function M(af){if(af.parent==null){return null}var ac=af.parent,ag=E(ac.lines,af);for(var ab=ac.parent;ab;ac=ab,ab=ab.parent){for(var ae=0,ad=ab.children.length;;++ae){if(ab.children[ae]==ac){break}ag+=ab.children[ae].chunkSize()}}return ag}function L(ad,af){var aj=0;outer:do{for(var ag=0,ae=ad.children.length;ag<ae;++ag){var ac=ad.children[ag],ab=ac.height;if(af<ab){ad=ac;continue outer}af-=ab;aj+=ac.chunkSize()}return aj}while(!ad.lines);for(var ag=0,ae=ad.lines.length;ag<ae;++ag){var ai=ad.lines[ag],ah=ai.height;if(af<ah){break}af-=ah}return aj+ag}function A(ac,ag){var ae=0;outer:do{for(var af=0,ad=ac.children.length;af<ad;++af){var ab=ac.children[af],ah=ab.chunkSize();if(ag<ah){ac=ab;continue outer}ag-=ah;ae+=ab.height}return ae}while(!ac.lines);for(var af=0;af<ag;++af){ae+=ac.lines[af].height}return ae}function B(){this.time=0;this.done=[];this.undone=[]}B.prototype={addChange:function(ah,ab,af){this.undone.length=0;var ai=+new Date,ae=this.done[this.done.length-1];if(ai-this.time>400||!ae||ae.start>ah+ab||ae.start+ae.added<ah-ae.added+ae.old.length){this.done.push({start:ah,added:ab,old:af})}else{var ag=0;if(ah<ae.start){for(var ad=ae.start-ah-1;ad>=0;--ad){ae.old.unshift(af[ad])}ae.added+=ae.start-ah;ae.start=ah}else{if(ae.start<ah){ag=ah-ae.start;ab+=ag}}for(var ad=ae.added-ag,ac=af.length;ad<ac;++ad){ae.old.push(af[ad])}if(ae.added<ab){ae.added=ab}}this.time=ai}};function X(){p(this)}function a(ab){if(!ab.stop){ab.stop=X}return ab}function o(ab){if(ab.preventDefault){ab.preventDefault()}else{ab.returnValue=false}}function q(ab){if(ab.stopPropagation){ab.stopPropagation()}else{ab.cancelBubble=true}}function p(ab){o(ab);q(ab)}d.e_stop=p;d.e_preventDefault=o;d.e_stopPropagation=q;function r(ab){return ab.target||ab.srcElement}function n(ab){if(ab.which){return ab.which}else{if(ab.button&1){return 1}else{if(ab.button&2){return 3}else{if(ab.button&4){return 2}}}}}function g(ad,ae,ac,ab){if(typeof ad.addEventListener=="function"){ad.addEventListener(ae,ac,false);if(ab){return function(){ad.removeEventListener(ae,ac,false)}}}else{var af=function(ag){ac(ag||window.event)};ad.attachEvent("on"+ae,af);if(ab){return function(){ad.detachEvent("on"+ae,af)}}}}d.connect=g;function l(){this.id=null}l.prototype={set:function(ac,ab){clearTimeout(this.id);this.id=setTimeout(ab,ac)}};var m=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent)){return false}var ab=document.createElement("div");return"draggable" in ab}();var x=/gecko\/\d{7}/i.test(navigator.userAgent);var D=/MSIE \d/.test(navigator.userAgent);var Z=/WebKit\//.test(navigator.userAgent);var N="\n";(function(){var ab=document.createElement("textarea");ab.value="foo\nbar";if(ab.value.indexOf("\r")>-1){N="\r\n"}}());function k(ae,ab,af){if(ab==null){ab=ae.search(/[^\s\u00a0]/);if(ab==-1){ab=ae.length}}for(var ac=0,ad=0;ac<ab;++ac){if(ae.charAt(ac)=="\t"){ad+=af-(ad%af)}else{++ad}}return ad}function f(ab){if(ab.currentStyle){return ab.currentStyle}return window.getComputedStyle(ab,null)}function t(ae,ah){var ab=ae.ownerDocument.body;var aj=0,ak=0,ai=false;for(var ad=ae;ad;ad=ad.offsetParent){var af=ad.offsetLeft,ag=ad.offsetTop;if(ad==ab){aj+=Math.abs(af);ak+=Math.abs(ag)}else{aj+=af,ak+=ag}if(ah&&f(ad).position=="fixed"){ai=true}}var ac=ah&&!ai?null:ab;for(var ad=ae.parentNode;ad!=ac;ad=ad.parentNode){if(ad.scrollLeft!=null){aj-=ad.scrollLeft;ak-=ad.scrollTop}}return{left:aj,top:ak}}if(document.documentElement.getBoundingClientRect!=null){t=function(ad,ae){try{var ab=ad.getBoundingClientRect();ab={top:ab.top,left:ab.left}}catch(ac){ab={top:0,left:0}}if(!ae){if(window.pageYOffset==null){var af=document.documentElement||document.body.parentNode;if(af.scrollTop==null){af=document.body}ab.top+=af.scrollTop;ab.left+=af.scrollLeft}else{ab.top+=window.pageYOffset;ab.left+=window.pageXOffset}}return ab}}function u(ab){return ab.textContent||ab.innerText||ab.nodeValue||""}function T(ab,ac){return ab.line==ac.line&&ab.ch==ac.ch}function U(ab,ac){return ab.line<ac.line||(ab.line==ac.line&&ab.ch<ac.ch)}function h(ab){return{line:ab.line,ch:ab.ch}}var v=document.createElement("pre");function C(ab){v.textContent=ab;return v.innerHTML}if(C("a")=="\na"){C=function(ab){v.textContent=ab;return v.innerHTML.slice(1)}}else{if(C("\t")!="\t"){C=function(ab){v.innerHTML="";v.appendChild(document.createTextNode(ab));return v.innerHTML}}}d.htmlEscape=C;function s(ab,ae){if(!ae){return ab?ab.length:0}if(!ab){return ae.length}for(var ac=ab.length,ad=ae.length;ac>=0&&ad>=0;--ac,--ad){if(ab.charAt(ac)!=ae.charAt(ad)){break}}return ad+1}function E(ab,ad){if(ab.indexOf){return ab.indexOf(ad)}for(var ae=0,ac=ab.length;ae<ac;++ae){if(ab[ae]==ad){return ae}}return -1}function G(ab){return/\w/.test(ab)||ab.toUpperCase()!=ab.toLowerCase()}var V="\n\nb".split(/\n/).length!=3?function(ae){var ac=0,ab,ad=[];while((ab=ae.indexOf("\n",ac))>-1){ad.push(ae.slice(ac,ae.charAt(ab-1)=="\r"?ab-1:ab));ac=ab+1}ad.push(ae.slice(ac));return ad}:function(ab){return ab.split(/\r?\n/)};d.splitLines=V;var z=window.getSelection?function(ac){try{return ac.selectionStart!=ac.selectionEnd}catch(ab){return false}}:function(ad){try{var ac=ad.ownerDocument.selection.createRange()}catch(ab){}if(!ac||ac.parentElement()!=ad){return false}return ac.compareEndPoints("StartToEnd",ac)!=0};d.defineMode("null",function(){return{token:function(ab){ab.skipToEnd()}}});d.defineMIME("text/plain","null");var I={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};d.keyNames=I;(function(){for(var ab=0;ab<10;ab++){I[ab+48]=String(ab)}for(var ab=65;ab<=90;ab++){I[ab]=String.fromCharCode(ab)}for(var ab=1;ab<=12;ab++){I[ab+111]=I[ab+63235]="F"+ab}})();return d})();CodeMirror.defineMode("xml",function(e,r){var n=e.indentUnit;var q=r.htmlMode?{autoSelfClosers:{br:true,img:true,hr:true,link:true,input:true,meta:true,col:true,frame:true,base:true,area:true},doNotIndent:{pre:true},allowUnquoted:true}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:false};var a=r.alignCDATA;var w,x;function p(C,B){function A(D){B.tokenize=D;return D(C,B)}var z=C.next();if(z=="<"){if(C.eat("!")){if(C.eat("[")){if(C.match("CDATA[")){return A(m("atom","]]>"))}else{return null}}else{if(C.match("--")){return A(m("comment","-->"))}else{if(C.match("DOCTYPE",true,true)){C.eatWhile(/[\w\._\-]/);return A(h(1))}else{return null}}}}else{if(C.eat("?")){C.eatWhile(/[\w\._\-]/);B.tokenize=m("meta","?>");return"meta"}else{x=C.eat("/")?"closeTag":"openTag";C.eatSpace();w="";var y;while((y=C.eat(/[^\s\u00a0=<>\"\'\/?]/))){w+=y}B.tokenize=o;return"tag"}}}else{if(z=="&"){C.eatWhile(/[^;]/);C.eat(";");return"atom"}else{C.eatWhile(/[^&<]/);return null}}}function o(A,z){var y=A.next();if(y==">"||(y=="/"&&A.eat(">"))){z.tokenize=p;x=y==">"?"endTag":"selfcloseTag";return"tag"}else{if(y=="="){x="equals";return null}else{if(/[\'\"]/.test(y)){z.tokenize=l(y);return z.tokenize(A,z)}else{A.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"word"}}}}function l(y){return function(A,z){while(!A.eol()){if(A.next()==y){z.tokenize=o;break}}return"string"}}function m(y,z){return function(B,A){while(!B.eol()){if(B.match(z)){A.tokenize=p;break}B.next()}return y}}function h(y){return function(B,A){var z;while((z=B.next())!=null){if(z=="<"){A.tokenize=h(y+1);return A.tokenize(B,A)}else{if(z==">"){if(y==1){A.tokenize=p;break}else{A.tokenize=h(y-1);return A.tokenize(B,A)}}}}return"meta"}}var g,v;function s(){for(var y=arguments.length-1;y>=0;y--){g.cc.push(arguments[y])}}function f(){s.apply(null,arguments);return true}function u(A,z){var y=q.doNotIndent.hasOwnProperty(A)||(g.context&&g.context.noIndent);g.context={prev:g.context,tagName:A,indent:g.indented,startOfLine:z,noIndent:y}}function t(){if(g.context){g.context=g.context.prev}}function i(z){if(z=="openTag"){g.tagName=w;return f(b,k(g.startOfLine))}else{if(z=="closeTag"){var y=false;if(g.context){y=g.context.tagName!=w}else{y=true}if(y){v="error"}return f(j(y))}}return f()}function k(y){return function(z){if(z=="selfcloseTag"||(z=="endTag"&&q.autoSelfClosers.hasOwnProperty(g.tagName.toLowerCase()))){return f()}if(z=="endTag"){u(g.tagName,y);return f()}return f()}}function j(y){return function(z){if(y){v="error"}if(z=="endTag"){t();return f()}v="error";return f(arguments.callee)}}function b(y){if(y=="word"){v="attribute";return f(b)}if(y=="equals"){return f(c,b)}if(y=="string"){v="error";return f(b)}return s()}function c(y){if(y=="word"&&q.allowUnquoted){v="string";return f()}if(y=="string"){return f(d)}return s()}function d(y){if(y=="string"){return f(d)}else{return s()}}return{startState:function(){return{tokenize:p,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(A,z){if(A.sol()){z.startOfLine=true;z.indented=A.indentation()}if(A.eatSpace()){return null}v=x=w=null;var B=z.tokenize(A,z);z.type=x;if((B||x)&&B!="comment"){g=z;while(true){var y=z.cc.pop()||i;if(y(x||B)){break}}}z.startOfLine=false;return v||B},indent:function(A,B,z){var y=A.context;if((A.tokenize!=o&&A.tokenize!=p)||y&&y.noIndent){return z?z.match(/^(\s*)/)[0].length:0}if(a&&/<!\[CDATA\[/.test(B)){return 0}if(y&&/^<\//.test(B)){y=y.prev}while(y&&!y.startOfLine){y=y.prev}if(y){return y.indent+n}else{return 0}},compareStates:function(y,z){if(y.indented!=z.indented||y.tokenize!=z.tokenize){return false}for(var A=y.context,B=z.context;;A=A.prev,B=B.prev){if(!A||!B){return A==B}if(A.tagName!=B.tagName){return false}}},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});CodeMirror.defineMode("javascript",function(e,G){var r=e.indentUnit;var v=G.json;var z=function(){function X(Z){return{type:Z,style:"keyword"}}var T=X("keyword a"),V=X("keyword b"),W=X("keyword c");var Y=X("operator"),U={type:"atom",style:"atom"};return{"if":T,"while":T,"with":T,"else":V,"do":V,"try":V,"finally":V,"return":W,"break":W,"continue":W,"new":W,"delete":W,"throw":W,"var":X("var"),"const":X("var"),let:X("var"),"function":X("function"),"catch":X("catch"),"for":X("for"),"switch":X("switch"),"case":X("case"),"default":X("default"),"in":Y,"typeof":Y,"instanceof":Y,"true":U,"false":U,"null":U,"undefined":U,"NaN":U,"Infinity":U}}();var t=/[+\-*&%=<>!?|]/;function c(V,U,T){U.tokenize=T;return T(V,U)}function D(W,T){var U=false,V;while((V=W.next())!=null){if(V==T&&!U){return false}U=!U&&V=="\\"}return U}var Q,g;function O(V,U,T){Q=V;g=T;return U}function w(W,V){var T=W.next();if(T=='"'||T=="'"){return c(W,V,y(T))}else{if(/[\[\]{}\(\),;\:\.]/.test(T)){return O(T)}else{if(T=="0"&&W.eat(/x/i)){W.eatWhile(/[\da-f]/i);return O("number","number")}else{if(/\d/.test(T)){W.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return O("number","number")}else{if(T=="/"){if(W.eat("*")){return c(W,V,x)}else{if(W.eat("/")){W.skipToEnd();return O("comment","comment")}else{if(V.reAllowed){D(W,"/");W.eatWhile(/[gimy]/);return O("regexp","string")}else{W.eatWhile(t);return O("operator",null,W.current())}}}}else{if(T=="#"){W.skipToEnd();return O("error","error")}else{if(t.test(T)){W.eatWhile(t);return O("operator",null,W.current())}else{W.eatWhile(/[\w\$_]/);var X=W.current(),U=z.propertyIsEnumerable(X)&&z[X];return(U&&V.kwAllowed)?O(U.type,U.style,X):O("variable","variable",X)}}}}}}}}function y(T){return function(V,U){if(!D(V,T)){U.tokenize=w}return O("string","string")}}function x(W,V){var U=false,T;while(T=W.next()){if(T=="/"&&U){V.tokenize=w;break}U=(T=="*")}return O("comment","comment")}var a={atom:true,number:true,variable:true,string:true,regexp:true};function u(V,U,Y,T,X,W){this.indented=V;this.column=U;this.type=Y;this.prev=X;this.info=W;if(T!=null){this.align=T}}function s(T,V){for(var U=T.localVars;U;U=U.next){if(U.name==V){return true}}}function F(W,Y,Z,V,X){var T=W.cc;h.state=W;h.stream=X;h.marked=null,h.cc=T;if(!W.lexical.hasOwnProperty("align")){W.lexical.align=true}while(true){var U=T.length?T.pop():v?k:P;if(U(Z,V)){while(T.length&&T[T.length-1].lex){T.pop()()}if(h.marked){return h.marked}if(Z=="variable"&&s(W,V)){return"variable-2"}return Y}}}var h={state:null,column:null,marked:null,cc:null};function H(){for(var T=arguments.length-1;T>=0;T--){h.cc.push(arguments[T])}}function f(){H.apply(null,arguments);return true}function N(V){var T=h.state;if(T.context){h.marked="def";for(var U=T.localVars;U;U=U.next){if(U.name==V){return}}T.localVars={name:V,next:T.localVars}}}var i={name:"this",next:{name:"arguments"}};function L(){if(!h.state.context){h.state.localVars=i}h.state.context={prev:h.state.context,vars:h.state.localVars}}function I(){h.state.localVars=h.state.context.vars;h.state.context=h.state.context.prev}function M(V,T){var U=function(){var W=h.state;W.lexical=new u(W.indented,h.stream.column(),V,null,W.lexical,T)};U.lex=true;return U}function J(){var T=h.state;if(T.lexical.prev){if(T.lexical.type==")"){T.indented=T.lexical.indented}T.lexical=T.lexical.prev}}J.lex=true;function j(U){return function T(V){if(V==U){return f()}else{if(U==";"){return H()}else{return f(arguments.callee)}}}}function P(T){if(T=="var"){return f(M("vardef"),R,j(";"),J)}if(T=="keyword a"){return f(M("form"),k,P,J)}if(T=="keyword b"){return f(M("form"),P,J)}if(T=="{"){return f(M("}"),b,J)}if(T==";"){return f()}if(T=="function"){return f(q)}if(T=="for"){return f(M("form"),j("("),M(")"),m,j(")"),J,P,J)}if(T=="variable"){return f(M("stat"),B)}if(T=="switch"){return f(M("form"),k,M("}","switch"),j("{"),b,J,J)}if(T=="case"){return f(k,j(":"))}if(T=="default"){return f(j(":"))}if(T=="catch"){return f(M("form"),L,j("("),p,j(")"),P,J,I)}return H(M("stat"),k,j(";"),J)}function k(T){if(a.hasOwnProperty(T)){return f(C)}if(T=="function"){return f(q)}if(T=="keyword c"){return f(A)}if(T=="("){return f(M(")"),k,j(")"),J,C)}if(T=="operator"){return f(k)}if(T=="["){return f(M("]"),d(k,"]"),J,C)}if(T=="{"){return f(M("}"),d(E,"}"),J,C)}return f()}function A(T){if(T.match(/[;\}\)\],]/)){return H()}return H(k)}function C(T,U){if(T=="operator"&&/\+\+|--/.test(U)){return f(C)}if(T=="operator"){return f(k)}if(T==";"){return}if(T=="("){return f(M(")"),d(k,")"),J,C)}if(T=="."){return f(K,C)}if(T=="["){return f(M("]"),k,j("]"),J,C)}}function B(T){if(T==":"){return f(J,P)}return H(C,j(";"),J)}function K(T){if(T=="variable"){h.marked="property";return f()}}function E(T){if(T=="variable"){h.marked="property"}if(a.hasOwnProperty(T)){return f(j(":"),k)}}function d(W,U){function V(X){if(X==","){return f(W,V)}if(X==U){return f()}return f(j(U))}return function T(X){if(X==U){return f()}else{return H(W,V)}}}function b(T){if(T=="}"){return f()}return H(P,b)}function R(T,U){if(T=="variable"){N(U);return f(S)}return f()}function S(T,U){if(U=="="){return f(k,S)}if(T==","){return f(R)}}function m(T){if(T=="var"){return f(R,n)}if(T==";"){return H(n)}if(T=="variable"){return f(l)}return H(n)}function l(T,U){if(U=="in"){return f(k)}return f(C,n)}function n(T,U){if(T==";"){return f(o)}if(U=="in"){return f(k)}return f(k,j(";"),o)}function o(T){if(T!=")"){f(k)}}function q(T,U){if(T=="variable"){N(U);return f(q)}if(T=="("){return f(M(")"),L,d(p,")"),J,P,I)}}function p(T,U){if(T=="variable"){N(U);return f()}}return{startState:function(T){return{tokenize:w,reAllowed:true,kwAllowed:true,cc:[],lexical:new u((T||0)-r,0,"block",false),localVars:null,context:null,indented:0}},token:function(U,T){if(U.sol()){if(!T.lexical.hasOwnProperty("align")){T.lexical.align=false}T.indented=U.indentation()}if(U.eatSpace()){return null}var V=T.tokenize(U,T);if(Q=="comment"){return V}T.reAllowed=Q=="operator"||Q=="keyword c"||Q.match(/^[\[{}\(,;:]$/);T.kwAllowed=Q!=".";return F(T,V,Q,g,U)},indent:function(W,X){if(W.tokenize!=w){return 0}var U=X&&X.charAt(0),V=W.lexical,Y=V.type,T=U==Y;if(Y=="vardef"){return V.indented+4}else{if(Y=="form"&&U=="{"){return V.indented}else{if(Y=="stat"||Y=="form"){return V.indented+r}else{if(V.info=="switch"&&!T){return V.indented+(/^(?:case|default)\b/.test(X)?r:2*r)}else{if(V.align){return V.column+(T?0:1)}else{return V.indented+(T?0:r)}}}}}},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMode("css",function(a){var b=a.indentUnit,h;function c(i,j){h=j;return i}function d(k,j){var i=k.next();if(i=="@"){k.eatWhile(/[\w\\\-]/);return c("meta",k.current())}else{if(i=="/"&&k.eat("*")){j.tokenize=e;return e(k,j)}else{if(i=="<"&&k.eat("!")){j.tokenize=f;return f(k,j)}else{if(i=="="){c(null,"compare")}else{if((i=="~"||i=="|")&&k.eat("=")){return c(null,"compare")}else{if(i=='"'||i=="'"){j.tokenize=g(i);return j.tokenize(k,j)}else{if(i=="#"){k.eatWhile(/[\w\\\-]/);return c("atom","hash")}else{if(i=="!"){k.match(/^\s*\w*/);return c("keyword","important")}else{if(/\d/.test(i)){k.eatWhile(/[\w.%]/);return c("number","unit")}else{if(/[,.+>*\/]/.test(i)){return c(null,"select-op")}else{if(/[;{}:\[\]]/.test(i)){return c(null,i)}else{k.eatWhile(/[\w\\\-]/);return c("variable","variable")}}}}}}}}}}}}function e(l,k){var j=false,i;while((i=l.next())!=null){if(j&&i=="/"){k.tokenize=d;break}j=(i=="*")}return c("comment","comment")}function f(l,k){var j=0,i;while((i=l.next())!=null){if(j>=2&&i==">"){k.tokenize=d;break}j=(i=="-")?j+1:0}return c("comment","comment")}function g(i){return function(m,l){var k=false,j;while((j=m.next())!=null){if(j==i&&!k){break}k=!k&&j=="\\"}if(!k){l.tokenize=d}return c("string","string")}}return{startState:function(i){return{tokenize:d,baseIndent:i||0,stack:[]}},token:function(k,j){if(k.eatSpace()){return null}var l=j.tokenize(k,j);var i=j.stack[j.stack.length-1];if(h=="hash"&&i=="rule"){l="atom"}else{if(l=="variable"){if(i=="rule"){l="number"}else{if(!i||i=="@media{"){l="tag"}}}}if(i=="rule"&&/^[\{\};]$/.test(h)){j.stack.pop()}if(h=="{"){if(i=="@media"){j.stack[j.stack.length-1]="@media{"}else{j.stack.push("{")}}else{if(h=="}"){j.stack.pop()}else{if(h=="@media"){j.stack.push("@media")}else{if(i=="{"&&h!="comment"){j.stack.push("rule")}}}}return l},indent:function(j,k){var i=j.stack.length;if(/^\}/.test(k)){i-=j.stack[j.stack.length-1]=="rule"?2:1}return j.baseIndent+i*b},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");CodeMirror.defineMode("htmlmixed",function(a,i){var e=CodeMirror.getMode(a,{name:"xml",htmlMode:true});var g=CodeMirror.getMode(a,"javascript");var c=CodeMirror.getMode(a,"css");function d(k,j){var l=e.token(k,j.htmlState);if(l=="tag"&&k.current()==">"&&j.htmlState.context){if(/^script$/i.test(j.htmlState.context.tagName)){j.token=f;j.localState=g.startState(e.indent(j.htmlState,""));j.mode="javascript"}else{if(/^style$/i.test(j.htmlState.context.tagName)){j.token=b;j.localState=c.startState(e.indent(j.htmlState,""));j.mode="css"}}}return l}function h(m,l,n){var k=m.current();var j=k.search(l);if(j>-1){m.backUp(k.length-j)}return n}function f(k,j){if(k.match(/^<\/\s*script\s*>/i,false)){j.token=d;j.curState=null;j.mode="html";return d(k,j)}return h(k,/<\/\s*script\s*>/,g.token(k,j.localState))}function b(k,j){if(k.match(/^<\/\s*style\s*>/i,false)){j.token=d;j.localState=null;j.mode="html";return d(k,j)}return h(k,/<\/\s*style\s*>/,c.token(k,j.localState))}return{startState:function(){var j=e.startState();return{token:d,localState:null,mode:"html",htmlState:j}},copyState:function(k){if(k.localState){var j=CodeMirror.copyState(k.token==b?c:g,k.localState)}return{token:k.token,localState:j,mode:k.mode,htmlState:CodeMirror.copyState(e,k.htmlState)}},token:function(k,j){return j.token(k,j)},indent:function(j,k){if(j.token==d||/^\s*<\//.test(k)){return e.indent(j.htmlState,k)}else{if(j.token==f){return g.indent(j.localState,k)}else{return c.indent(j.localState,k)}}},compareStates:function(j,k){return e.compareStates(j.htmlState,k.htmlState)},electricChars:"/{}:"}});CodeMirror.defineMIME("text/html","htmlmixed");