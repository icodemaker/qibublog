window.onload=function(){editor.setOpt({emotionLocalization:false});emotion.SmileyPath=editor.options.emotionLocalization===true?"images/":"http://img.baidu.com/hi/";emotion.SmileyBox=createTabList(emotion.tabNum);emotion.tabExist=createArr(emotion.tabNum);initImgName();initEvtHandler("tabHeads")};function initImgName(){for(var g in emotion.SmilmgName){var i=emotion.SmilmgName[g],h=emotion.SmileyBox[g],j="";if(h.length){return}for(var f=1;f<=i[1];f++){j=i[0];if(f<10){j=j+"0"}j=j+f+".gif";h.push(j)}}}function initEvtHandler(f){var i=$G(f);for(var g=0,h=0;g<i.childNodes.length;g++){var j=i.childNodes[g];if(j.nodeType==1){domUtils.on(j,"click",(function(a){return function(){switchTab(a)}})(h));h++}}switchTab(0);$G("tabIconReview").style.display="none"}function InsertSmiley(f,d){var e={src:editor.options.emotionLocalization?editor.options.UEDITOR_HOME_URL+"dialogs/emotion/"+f:f};e._src=e.src;editor.execCommand("insertimage",e);if(!d.ctrlKey){dialog.popup.hide()}}function switchTab(g){autoHeight(g);if(emotion.tabExist[g]==0){emotion.tabExist[g]=1;createTab("tab"+g)}var j=$G("tabHeads").getElementsByTagName("span"),i=$G("tabBodys").getElementsByTagName("div"),f=0,h=j.length;for(;f<h;f++){j[f].className="";i[f].style.display="none"}j[g].className="focus";i[g].style.display="block"}function autoHeight(e){var d=dialog.getDom("iframe"),f=d.parentNode.parentNode;switch(e){case 0:d.style.height="380px";f.style.height="392px";break;case 1:d.style.height="220px";f.style.height="232px";break;case 2:d.style.height="260px";f.style.height="272px";break;case 3:d.style.height="300px";f.style.height="312px";break;case 4:d.style.height="140px";f.style.height="152px";break;case 5:d.style.height="260px";f.style.height="272px";break;case 6:d.style.height="230px";f.style.height="242px";break;default:}}function createTab(M){var w="?v=1.1",K=$G(M),z=emotion.SmileyPath+emotion.imageFolders[M],H=11/2,D=iHeight=35,y=3,L=emotion.imageCss[M],i=emotion.imageCssOffset[M],N=['<table class="smileytable">'],x=0,B=emotion.SmileyBox[M].length,A=11,j,J,I,G,F,C;for(;x<B;){N.push("<tr>");for(var E=0;E<A;E++,x++){j=emotion.SmileyBox[M][x];if(j){J=z+j+w;I=z+j;G=E<H?0:1;F=i*x*(-1)-1;C=emotion.SmileyInfor[M][x];N.push('<td  class="'+L+'"   border="1" width="'+y+'%" style="border-collapse:collapse;" align="center"  bgcolor="transparent" onclick="InsertSmiley(\''+I.replace(/'/g,"\\'")+"',event)\" onmouseover=\"over(this,'"+J+"','"+G+'\')" onmouseout="out(this)">');N.push("<span>");N.push('<img  style="background-position:left '+F+'px;" title="'+C+'" src="'+emotion.SmileyPath+(editor.options.emotionLocalization?'0.gif" width="':'default/0.gif" width="')+D+'" height="'+iHeight+'"></img>');N.push("</span>")}else{N.push('<td width="'+y+'%"   bgcolor="#FFFFFF">')}N.push("</td>")}N.push("</tr>")}N.push("</table>");N=N.join("");K.innerHTML=N}function over(f,e,d){f.style.backgroundColor="#ACCD3C";$G("faceReview").style.backgroundImage="url("+e+")";if(d==1){$G("tabIconReview").className="show"}$G("tabIconReview").style.display="block"}function out(d){d.style.backgroundColor="transparent";var c=$G("tabIconReview");c.className="";c.style.display="none"}function createTabList(f){var e={};for(var d=0;d<f;d++){e["tab"+d]=[]}return e}function createArr(f){var d=[];for(var e=0;e<f;e++){d[e]=0}return d};