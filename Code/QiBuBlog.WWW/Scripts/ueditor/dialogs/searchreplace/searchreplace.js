editor.firstForSR=0;editor.currentRangeForSR=null;function clickHandler(s,r,q){for(var n=0,o=s.length;n<o;n++){s[n].className=""}q.className="focus";var t=q.getAttribute("tabSrc");for(var m=0,p=r.length;m<p;m++){var j=r[m],k=j.getAttribute("id");if(k!=t){j.style.zIndex=1}else{j.style.zIndex=200}}}function switchTab(n){var l=$G(n).children,m=l[0].children,k=l[1].children;for(var i=0,j=m.length;i<j;i++){var h=m[i];if(h.className==="focus"){clickHandler(m,k,h)}h.onclick=function(){clickHandler(m,k,this)}}}$G("searchtab").onmousedown=function(){$G("search-msg").innerHTML="";$G("replace-msg").innerHTML=""};function getMatchCase(b){return $G(b).checked?true:false}$G("nextFindBtn").onclick=function(l,h,j){var i=$G("findtxt").value,k;if(!i){return false}k={searchStr:i,dir:1,casesensitive:getMatchCase("matchCase")};if(!frCommond(k)){var g=editor.selection.getRange().createBookmark();$G("search-msg").innerHTML=lang.getEnd;editor.selection.getRange().moveToBookmark(g).select()}};$G("nextReplaceBtn").onclick=function(j,f,h){var g=$G("findtxt1").value,i;if(!g){return false}i={searchStr:g,dir:1,casesensitive:getMatchCase("matchCase1")};frCommond(i)};$G("preFindBtn").onclick=function(j,f,h){var g=$G("findtxt").value,i;if(!g){return false}i={searchStr:g,dir:-1,casesensitive:getMatchCase("matchCase")};if(!frCommond(i)){$G("search-msg").innerHTML=lang.getStart}};$G("preReplaceBtn").onclick=function(j,f,h){var g=$G("findtxt1").value,i;if(!g){return false}i={searchStr:g,dir:-1,casesensitive:getMatchCase("matchCase1")};frCommond(i)};$G("repalceBtn").onclick=function(){var d=$G("findtxt1").value.replace(/^\s|\s$/g,""),e,f=$G("replacetxt").value.replace(/^\s|\s$/g,"");if(!d){return false}if(d==f||(!getMatchCase("matchCase1")&&d.toLowerCase()==f.toLowerCase())){return false}e={searchStr:d,dir:1,casesensitive:getMatchCase("matchCase1"),replaceStr:f};frCommond(e)};$G("repalceAllBtn").onclick=function(){var e=$G("findtxt1").value.replace(/^\s|\s$/g,""),g,h=$G("replacetxt").value.replace(/^\s|\s$/g,"");if(!e){return false}if(e==h||(!getMatchCase("matchCase1")&&e.toLowerCase()==h.toLowerCase())){return false}g={searchStr:e,casesensitive:getMatchCase("matchCase1"),replaceStr:h,all:true};var f=frCommond(g);if(f){$G("replace-msg").innerHTML=lang.countMsg.replace("{#count}",f)}};var frCommond=function(b){return editor.execCommand("searchreplace",b)};switchTab("searchtab");